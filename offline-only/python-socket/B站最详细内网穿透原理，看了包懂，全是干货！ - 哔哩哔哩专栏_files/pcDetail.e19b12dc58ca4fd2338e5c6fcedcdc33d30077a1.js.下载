webpackJsonp([1],{0:function(i,a,t){"use strict";function e(i){var a=Math.floor((new Date).getTime()/1e3),t=new Date(1e3*i);return a-i<=50?B.GANGGANG:a-i<3600?Math.ceil((a-i)/60)+B.FENZHONGQIAN:a-i<86400?t.getDate()!=(new Date).getDate()?B.ZUOTIAN:Math.ceil((a-i)/3600)+B.XIAOSHIQIAN:t.getFullYear()!=(new Date).getFullYear()?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():t.getMonth()+1+"-"+t.getDate()}function n(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i){for(var e=/(<a[^<]*>.*?<\/a>)/,n=i.split(e),o=0,r=n.length;o<r;++o)if(e.test(n[o]))n[o]=n[o].replace(/(<a\s)/,function(i){return i+'target="_blank" '});else{n[o]=n[o].replace(/(http:\/\/|https:\/\/)?[a-zA-Z]+\.bili(bili|game)\.com((\w|=|\?|\.|\/|&|-|#)*)/gi,function(i){return i.indexOf("api.")>-1?i:"<a class='article-link' target='_blank' href='"+("http"===i.substr(0,4)?i:"//"+i)+"'>"+i+"</a>"});for(var c=n[o].split(e),l=0,s=c.length;l<s;++l)e.test(c[l])||(c[l]=c[l].replace(/av[0-9]+/gi,function(i){return a&&t?"<a class='video-link av-bv' data-av="+i.slice(2)+" target='_blank' href='//www.bilibili.com/video/"+i+"'>"+i.toUpperCase()+"</a>":"<a class='video-link' target='_blank' href='//www.bilibili.com/video/"+i+"'>"+i.toUpperCase()+"</a>"}),c[l]=c[l].replace(/cv[0-9]+/gi,function(i){return"<a class='article-link' target='_blank' href='//www.bilibili.com/read/"+i+"?from=articleDetail'>"+i.toUpperCase()+"</a>"}),a&&(c[l]=c[l].replace(/(b|B)(v|V)1[1-9a-km-zA-HJ-NP-Z]{9}/g,function(i){return t?"<a class='video-link' target='_blank' href='//www.bilibili.com/video/"+i+"?from=articleDetail'>"+i+"</a>":"<a class='video-link bv-av' data-bv="+i+" target='_blank' href='//www.bilibili.com/video/"+i+"?from=articleDetail'>"+i+"</a>"})));n[o]=c.join("")}return n.join("")}}function o(i){$(i).find("*[contenteditable]").removeAttr("contenteditable")}function r(i,a,t,e,n){if(a=Math.abs(Math.round(parseInt(a))),t=Math.abs(Math.round(parseInt(t))),a>4096||t>4096)return i;if(i){var o=i.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/);if(o){var r=-1!==i.indexOf("/bfs/");if("gif"===o[2]||!r)return i;var c=e&&n?"_"+e+"e_"+n+"c":"",l=a&&t?"@"+a+"w_"+t+"h"+c:"@",s=o[3]?o[3]:"";return W?o[1]+l+".webp"+s:o[1]+l+"."+o[2]+s}}}function c(i){return/<|>|"|'|#/.test(i)?"":i?i.replace(/^http:/,""):""}function l(i,a){if(i){var t=i.getBoundingClientRect(),e=a||0;return t.top<window.innerHeight+e&&t.bottom>=0}}function s(i){var a={};try{a=JSON.parse(i)}catch(i){}return a}function d(i){return i?i.replace(/<img src[^>]+>/g,function(i){return i.indexOf('class="latex"')>-1?i:i.replace(/src=/,"data-src=")}):""}function v(i){if(-1!=String(i).indexOf(":"))return i;var a,t;return i/60<1?(a="0",t=i):(a=Math.floor(i/60),t=i-60*Math.floor(i/60)),a<10&&(a="0"+a),t<10&&(t="0"+t),a+":"+t}function u(){var i=2;return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?i=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(i=window.devicePixelRatio),i}function p(i){var a=Math.floor((new Date).getTime()/1e3),t=new Date(1e3*i);if(a-i<=60)return B.GANGGANG;if(a-i<3600)return parseInt((a-i)/60)+B.FENZHONGQIAN;if(a-i<86400)return parseInt((a-i)/3600)+B.XIAOSHIQIAN;var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.getTime()/1e3-i<86400?B.ZUOTIAN:t.getFullYear()!=(new Date).getFullYear()?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():t.getMonth()+1+"-"+t.getDate()}function f(i,a,t,e){var n=null,o=void 0;return function(){var r=e||this,c=arguments,l=+new Date;clearTimeout(n),o||(o=l),l-o>=t?(i.apply(r,c),o=l):n=setTimeout(function(){i.apply(r,c)},a)}}function m(i){for(var a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",e=0;e<i;e++){t+=a[Math.floor(62*Math.random())]}return t}function g(i){return i&&i.replace(/(<\/figure>)((<p><br\/?><\/p>)+)(<figure[^>]*>)/g,function(i,a,t,e,n){return a+n})}function h(i,a,t){if(0!=$(i).length&&a){var e=$(i).offset();e.width=$(i).width(),e.height=$(i).height();var n=$('<div class="messageBox">'+a+"</div>");n.appendTo("body");var o={height:n.outerHeight(),width:n.outerWidth()},r={top:e.top-o.height-20,left:e.left-(o.width-e.width)/2,opacity:1};r.left+o.width>window.innerWidth&&(r.left="initial",r.right="0"),r.top<$(window).scrollTop()&&(r.top=e.top+e.height+20),r.left<0&&(r.left=0),$(n).css(r),setTimeout(function(){n.css("opacity","0"),n.on("transitionend",function(){n.remove()})},t||3e3)}}function w(i,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;if(0!=$(i).length&&a&&!$(i).hasClass("left-toasting")){$(i).addClass("left-toasting");var e=$(i).offset();e.width=$(i).width(),e.height=$(i).height();var n=$('<div class="message-box-holder"><div class="left-messageBox">'+a+'<span class="arrow"></span></div>');n.appendTo("body");var o={height:n.outerHeight(),width:n.outerWidth()},r={left:e.left-o.width-20};r.left+o.width>window.innerWidth&&(r.left="initial",r.right="0"),r.left<0&&(r.left=0,n.width()+20>e.left&&n.css("margin-right",window.innerWidth-e.left+20)),r.top=e.top-(n.outerHeight()-e.height)/2,$(n).css(r),n.find(".left-messageBox").addClass("on"),setTimeout(function(){n.find(".left-messageBox").css("opacity","0"),n.find(".left-messageBox").on("transitionend",function(){n.remove(),$(i).removeClass("left-toasting")})},t)}}function b(i){Y.mobile?window.location.href="//passport.bilibili.com/login":window.biliQuickLogin?window.biliQuickLogin(i):$.getScript("//static.hdslb.com/account/bili_quick_login.js",function(){window.biliQuickLogin(i)})}function _(i){i=i.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+i+"=([^&#]*)"),t=a.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function k(i){var a=parseInt(i);return a<0?"-":a<1e4?a:a>=1e4&&a<1e7?(Math.round(i/1e3)/10).toFixed(1)+B.WAN:a>=1e7&&a<1e8?Math.floor(i/1e4)+B.WAN:a>=1e8?(i/1e8).toFixed(1)+B.YI:"-"}function y(i){var a=$(['<div class="page-mask"></div>','<div class="modalBox">',"<p>"+(i.message||"")+"</p>",'<button class="cancel">'+B.CANCEL+"</button>",'<button class="sure">'+B.CONFIRM+"</button>","</div>"].join(""));a.find(".cancel").click(function(){a.remove()}),a.find(".sure").click(function(){a.remove(),i.sure()}),a.appendTo("body")}function x(i){var a=$(['<div class="vote-backdrop">',' <div class="extension-wrapper">','   <div class="title-box">','     <div class="title-text">投票</div>','     <div class="close-button"></div>',"   </div>",'   <iframe src="'+i+'" frameborder="0"></iframe>'," </div>","</div>"].join(""));a.find(".close-button").click(function(){a.remove()}),a.appendTo("body")}function C(i){var a=i.callback||"_jsonpCallback_"+(new Date).getTime(),t=$('<iframe name="frm'+a+'" id="frm'+a+'" style="visibility:hidden; width:1px; height:1px"></iframe>').appendTo("body"),e=$('<form action="'+i.url+'" method="POST" target="frm'+a+'"></form>').appendTo("body");void 0===i.data&&(i.data={}),i.data.csrf=z.get("bili_jct"),i.data[i.jsonpCallback||"callback"]=a;for(var n in i.data)$('<input type="hidden" name="'+n+'" />').appendTo(e).val(i.data[n]);window[a]=function(a){"function"==typeof i.success&&i.success(a),"function"==typeof i.complete&&i.complete(a),t.remove(),e.remove()},e.submit()}function I(i){var a=$(['<div class="center-toast">','<div class="info">'+i+"</div>","</div>"].join(""));$("body").append(a),setTimeout(function(){a.one("transitionend",function(){a.remove()}).css("opacity","0")},3e3)}function O(i){var a=0;if(document.selection){var t=document.selection.createRange();i.focus(),t.moveStart("character",-i.value.length),a=t.text.length}else(i.selectionStart||"0"==i.selectionStart)&&(a=i.selectionStart);return a}function N(i){return i=i.toString(),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=i.replace(/"/g,"&#34;"),i=i.replace(/'/g,"&#39;"),i=i.replace(/\\/g,"&#92;"),i=i.replace(/\//g,"&#47;"),i=i.replace(/\n/g,"")}function T(i){return i=i.toString(),i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}function j(){var i=void 0,a=void 0,t=void 0,e=void 0;if(window.getSelection)a=window.getSelection();else if(window.document.getSelection)a=window.document.getSelection();else if(window.document.selection)return a=window.document.selection,{html:a.createRange().htmlText,selection:a};return a.rangeCount>0&&(t=a.getRangeAt(0),e=window.document.createElement("div"),e.appendChild(t.cloneContents()),i=e.innerHTML),{html:i||"",selection:a}}function M(){var i=new Date,a=i.getMonth()+1,t=i.getDate(),e=i.getHours(),n=i.getMinutes();return i.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(t<10?"0"+t:t)+" "+(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)}function A(){var i=null;window.getSelection?i=window.getSelection():document.selection&&(i=document.selection),i&&(i.empty&&i.empty(),i.removeAllRanges&&i.removeAllRanges())}function S(){/Android|iPhone|Windows Phone/.test(navigator.userAgent)?/cv[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(cv)/,"read/mobile/")):/mobile\/[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(mobile\/)/,"read/cv"))}function E(i){function a(i){if(t[i.keyCode])return P(i),!1}var t={37:1,38:1,39:1,40:1};"lock"==i?(window.addEventListener&&window.addEventListener("DOMMouseScroll",P,!1),window.onwheel=P,window.onmousewheel=document.onmousewheel=P,window.ontouchmove=P,document.onkeydown=a):"unlock"==i&&(window.removeEventListener&&window.removeEventListener("DOMMouseScroll",P,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null)}function P(i){i=i||window.event,i.preventDefault&&i.preventDefault(),i.returnValue=!1}function D(i){return Q[i]||"/read/home"}function L(){var i=navigator.userAgent,a="";if(/mobi_app\/(?:(?:android_i)|(?:ios_i))/i.test(i)){var t=i.match(/lang\/([a-z]+_[a-z]+)/i);t&&t[1]&&(a=String(t[1]))}return["ja_JP","en_US"].indexOf(a)>-1&&(a="zh_TW"),a}function R(i,a){var t=document.createElement("script");t.type="text/javascript",void 0!==a&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,a())}:t.onload=function(){a()}),t.src=i,document.body.appendChild(t)}function U(i){return[/^(http:)?(https:)?(\/\/)?((([a-zA-Z0-9_-])+(\.)?){1,2}\.)?(bilibili.com)+(:\d+)?(\/((\.)?(\?)?=?&?%?[#!a-zA-Z0-9_-](\?)?)*)*$/i,/^(http:)?(https:)?(\/\/)?(([a-zA-Z0-9_-])+(\.)?){0,2}(\.biligame.com)+(:\d+)?(\/((\.)?(\?)?=?&?%?[#!a-zA-Z0-9_-](\?)?)*)*$/i,/^(http:)?(https:)?(\/\/)?(acg.tv)+(:\d+)?(\/((\.)?(\?)?=?&?%?[#!a-zA-Z0-9_-](\?)?)*)*$/i,/^(bilibili:\/\/)(\S)+$/i,/^(http:)?(https:)?(\/\/)?(b23.tv)(\/\w+)+$/i].filter(function(a){return i.match(a)}).length}t(2);var H=t(1),G=function(i){return i&&i.__esModule?i:{default:i}}(H),F="zh_CN";L()&&(F=L());var B=G.default[F],W=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(i){return!1}}(),z={get:function(i){var a=""+document.cookie,t=a.indexOf(i+"=");if(-1==t||""==i)return"";var e=a.indexOf(";",t);return-1==e&&(e=a.length),unescape(a.substring(t+i.length+1,e))},set:function(i,a,t){t=void 0!==t?t:365;var e=new Date;e.setTime(e.getTime()+24*t*60*60*1e3),document.cookie=i+"="+escape(a)+";expires="+e.toGMTString()+"; path=/; domain=.bilibili.com"},delete:function(i){this.set(i,"",-1)}},Z=/AppleWebKit.*Mobile.*/i.test(window.navigator.userAgent),Y=function(){var i=navigator.userAgent;return{trident:/Trident/i.test(i),presto:/Presto/i.test(i),webKit:/AppleWebKit/i.test(i),gecko:/Gecko/i.test(i)&&!/KHTML/i.test(i),mobile:/AppleWebKit.*Mobile.*/i.test(i),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(i),android:/Android/i.test(i)||/Linux/i.test(i),windowsphone:/Windows Phone/i.test(i),iPhone:/iPhone/i.test(i),iPad:/iPad/i.test(i),MicroMessenger:/MicroMessenger/i.test(i),webApp:!/Safari/i.test(i),edge:/edge/i.test(i),weibo:/Weibo/i.test(i),uc:/UCBrowser/i.test(i),qq:/MQQBrowser/i.test(i),baidu:/Baidu/i.test(i)}}();window.leftToast=w;var q={list:[],emit:function(i,a){if(this.list[i]){var t=this.list[i];for(var e in t)t[e](a)}},on:function(i,a){this.list[i]?this.list[i].push(a):this.list[i]=[a]}},Q={"/read/home":0,"/read/douga":2,"/read/game":1,"/read/lightnovel":16,"/read/technology":17,"/read/other":3,0:"/read/home",2:"/read/douga",1:"/read/game",16:"/read/lightnovel",17:"/read/technology",3:"/read/other"},K=[["baiyan","tv_白眼"],["doge","tv_doge"],["huaixiao","tv_坏笑"],["nanguo","tv_难过"],["shengqi","tv_生气"],["weiqu","tv_委屈"],["xieyanxiao","tv_斜眼笑"],["fadai","tv_呆"],["fanu","tv_发怒"],["jingxia","tv_惊吓"],["outu","tv_呕吐"],["sikao","tv_思考"],["weixiao","tv_微笑"],["yiwen","tv_疑问"],["daku","tv_大哭"],["guzhang","tv_鼓掌"],["koubi","tv_抠鼻"],["qinqin","tv_亲亲"],["tiaopi","tv_调皮"],["xiaoku","tv_笑哭"],["yun","tv_晕"],["dianzan","tv_点赞"],["haixiu","tv_害羞"],["shuizhao","tv_睡着"],["se","tv_色"],["tuxue","tv_吐血"],["wunai","tv_无奈"],["zaijian","tv_再见"],["liuhan","tv_流汗"],["touxiao","tv_偷笑"],["zhuakuang","tv_抓狂"],["heirenwenhao","tv_黑人问号"],["kun2","tv_困"],["dalian","tv_打脸"],["bizui","tv_闭嘴"],["bishi","tv_鄙视"],["miantian","tv_腼腆"],["chan","tv_馋"],["keai","tv_可爱"],["facai","tv_发财"],["shengbing","tv_生病"],["liubixue","tv_流鼻血"],["ganga","tv_尴尬"],["dalao","tv_大佬"],["liulei","tv_流泪"],["lengmo","tv_冷漠"],["zhoumei","tv_皱眉"],["guilian","tv_鬼脸"],["tiaokan","tv_调侃"],["mudengkoudai","tv_目瞪口呆"]],X={};for(var J in K)X["["+K[J][1]+"]"]={url:"//s1.hdslb.com/bfs/seed/bplus-common/emoji-assets/xiaodianshi1/"+K[J][0]+".png",size:"s"};i.exports={countdown:e,replaceLink:n,formatImg:r,trimHttp:c,checkInView:l,getObjFromStr:s,processImgSrc:d,formatDuration:v,DPR:2,getDevicePixelRatio:u,human_date:p,cookie:z,throttle:f,GetRandomString:m,removeEmptyTagP:g,version:Y,toast:h,leftToast:w,login:b,isMobile:Z,formatNum:k,modalBox:y,iframeBox:x,postJSON:C,centerToast:I,getCursortPosition:O,bus:q,filterChar:N,webp:W,getSelectObj:j,getDateStr:M,clearSelection:A,checkUA:S,lockPageScroll:E,filterContentEdit:o,checkCategoriesMap:D,dynamicEmojis:X,getLang:L,getUrlParameter:_,loadScript:R,filterCharByCode:T,checkAllowUrl:U}},1:function(i,a){i.exports={zh_CN:{CATEGORIES:{1:"游戏",2:"动画",3:"生活",4:"动漫杂谈",5:"动漫资讯",6:"单机游戏",7:"电子竞技",8:"手机游戏",9:"网络游戏",10:"桌游棋牌",11:"模型手办",12:"电影",13:"美食",14:"时尚",15:"日常",16:"轻小说",17:"科技",18:"原创连载",19:"同人连载",20:"小说杂谈",21:"萌宠",22:"运动",23:"绘画",24:"手工",25:"人文历史",26:"数码",27:"汽车",28:"影视",29:"兴趣",31:"动画技术",32:"短篇小说",33:"自然",34:"学习",35:"电视剧",36:"纪录片",37:"综艺",38:"摄影",39:"音乐舞蹈"},YUEDU:"阅读",GUANZHU:"关注",YIGUANZHU:"已关注",ZHIDING:"置顶",GUANZHU_SUCCESS:"成功关注UP主～喵～",FENSI:"粉丝",RECOMMEND_TITLE:"你可能感兴趣的用户",TUIJIANWENZHANG:"推荐文章",CATEGORY_ENTRY:"进入分区查看更多精彩内容 &gt;",ZHUANFA:"转发",PINGLUN:"评论",NOT_REPRINT:"本文禁止转载或摘编",XIHUAN:"点赞",TOUBI:"投币",SHOUCANG:"收藏",FENXIANG:"分享",FENXIANGZHI:"分享至",LOAD_FAIL:"加载失败,请",RETRY:"重试",NETWORK_BAD:"网络太差啦，为什么不去检查下wifi插头呢",NETWORK_RETRY:"窝不管窝就是要刷ヽ(`Д´)ﾉ",NO_MORE:"没有更多了",GONG:"共",HAIYOU:"还有",COMMENT:"评论",COMMENT_COUNT:"条回复",ALL_COMMENTS:"全部评论",NEW_COMMENTS:"最新评论",NO_COMMENT:"还没有人评论&#10",POPULAR_COMMENTS:"热门评论",MORE_POPULAR_COMMENTS:"更多热门评论",DO_FIRST_COMMENT:"快来发表第一条评论吧~",FROM_RECENT_COMMENT:"从最新的评论开始查看",DELETE_COMMENT:"删除评论后将不可恢复，是否继续删除？",DELETE_COMMENTED_COMMENNT:"删除评论后，评论下所有的回复都会被删除，是否继续删除？",REPOST:"转发",NO_REPOST:"还没有人转发&#10",DO_FIRST_REPOST:"快来转发吧~",BLACKLIST_USER:"黑名单用户",COMMENT_BLOCKED:"该用户的评论已被你屏蔽",BLOCK_USER:"拉黑该用户之后，将自动取消对他的关注，并禁止该用户与我进行互动。",STOP_LIKE:"住手你个点赞狂魔，你没看到服务器在冒烟吗",STOP_HATE:"住手你个点踩狂魔，你没看到服务器在冒烟吗",GANGGANG:"刚刚",FENZHONGQIAN:"分钟前",ZUOTIAN:"昨天",XIAOSHIQIAN:"小时前",CANCEL:"取消",CONFIRM:"确定",WAN:"万",YI:"亿",LIVING:"直播中",NOLIVING:"未开播"},zh_TW:{CATEGORIES:{1:"遊戲",2:"動畫",3:"生活",4:"動漫雜談",5:"動漫資訊",6:"單機遊戲",7:"電子競技",8:"手機遊戲",9:"網路遊戲",10:"桌遊棋牌",11:"模型手辦",12:"電影",13:"美食",14:"時尚",15:"日常",16:"輕小說",17:"科技",18:"原創連載",19:"同人連載",20:"小說雜談",21:"萌寵",22:"運動",23:"繪畫",24:"手工",25:"人文歷史",26:"數碼",27:"汽車",28:"影視",29:"興趣",31:"動畫技術",32:"短篇小說",33:"自然",34:"學習",35:"電視劇",36:"紀錄片",37:"綜藝",38:"攝影",39:"音樂舞蹈"},YUEDU:"閱讀",GUANZHU:"關注",YIGUANZHU:"已關注",ZHIDING:"置頂",GUANZHU_SUCCESS:"成功關注UP主～喵～",FENSI:"粉絲",RECOMMEND_TITLE:"你可能感興趣的用戶",TUIJIANWENZHANG:"推薦文章",CATEGORY_ENTRY:"進入分區查看更多精彩內容 &gt;",ZHUANFA:"轉發",PINGLUN:"評論",NOT_REPRINT:"本文禁止轉載或摘編",XIHUAN:"點贊",TOUBI:"投幣",SHOUCANG:"收藏",FENXIANG:"分享",FENXIANGZHI:"分享至",LOAD_FAIL:"載入失敗,請",RETRY:"重試",NETWORK_BAD:"網路太差啦，為什麼不去檢查下wifi插頭呢",NETWORK_RETRY:"窩不管窩就是要刷ヽ(`Д´)ﾉ",NO_MORE:"沒有更多了",GONG:"共",HAIYOU:"還有",COMMENT:"評論",COMMENT_COUNT:"條回復",ALL_COMMENTS:"全部評論",NEW_COMMENTS:"最新評論",NO_COMMENT:"還沒有人評論&#10",POPULAR_COMMENTS:"熱門評論",MORE_POPULAR_COMMENTS:"更多熱門評論",DO_FIRST_COMMENT:"快來發表第一條評論吧~",FROM_RECENT_COMMENT:"從最新的評論開始查看",DELETE_COMMENT:"刪除評論後將不可恢復，是否繼續刪除？",DELETE_COMMENTED_COMMENNT:"刪除評論後，評論下所有的回復都會被刪除，是否繼續刪除？",REPOST:"轉發",NO_REPOST:"還沒有人轉發&#10",DO_FIRST_REPOST:"快來轉發吧~",BLACKLIST_USER:"黑名單用戶",COMMENT_BLOCKED:"該用戶的評論已被你遮罩",BLOCK_USER:"拉黑該用戶之後，將自動取消對他的關注，並禁止該用戶與我進行互動。",STOP_LIKE:"住手你個點贊狂魔，你沒看到伺服器在冒煙嗎",STOP_HATE:"住手你個點踩狂魔，你沒看到伺服器在冒煙嗎",GANGGANG:"剛剛",FENZHONGQIAN:"分鐘前",ZUOTIAN:"昨天",XIAOSHIQIAN:"小時前",CANCEL:"取消",CONFIRM:"確定",WAN:"萬",YI:"億",LIVING:"直播中",NOLIVING:"未開播"}}},100:function(i,a,t){"use strict";var e=window.reportMsgObj;$(document).on("click",".nav-tab-bar a",function(){e.read_detail_category_click=!0}),$(document).on("click",".title-container .category-link",function(){e.read_detail_SubCategory_click=!0}),$(document).on("click",".up-info-holder .up-info-block .up-face-holder",function(){e.read_detail_UpImage_click=!0}),$(document).on("click",".up-info-holder .up-info-block  .up-name",function(){e.read_detail_UpName_click=!0}),$(document).on("click",".up-info-holder .follow-btn-holder .follow-btn",function(){e.read_detail_follow_click=!0}),$(document).on("click",".up-info-holder .article-list .more-article",function(){e.read_detail_ArticleAll_click=!0}),$(document).on("click",".up-info-holder .article-list .article-item",function(){e.read_detail_ArticleList_click=!0}),$(document).on("click",".up-info-holder .more .ac-link",function(){e.read_detail_ArticleUpload_click=!0}),$(document).on("click",".article-action .like-btn",function(){e.read_detail_like_click=!0}),$(document).on("click",".article-action .coin-btn",function(){e.read_detail_coin_click=!0}),$(document).on("click",".article-action .fav-btn",function(){e.read_detail_collection_click=!0}),$(document).on("click",".article-action .share-btn",function(){e.read_detail_share_click=!0}),$(document).on("click",".right-side-bar .to-comment",function(){e.read_detail_ToReplay_click=!0})},101:function(i,a,t){"use strict";function e(i){for(var a=d(),t="",e=0,o=a.length;e<o;++e)t+='<a href="'+a[e].href+'" '+(a[e].target?'target="_blank"':"")+' ><i class="'+a[e].class+'" title="'+a[e].label+'"></i></a>';if(i.html(t),!m){var r=$('<div class="weixin-holder"><p>微信扫一扫分享</p><canvas></canvas></div>');i.find(".icon-share_wechat").append(r),p.default.toCanvas(r.find("canvas")[0],window.location.href,function(){})}i.on("click.a","i",function(i){var a=$(i.currentTarget);if(a.hasClass("icon-share_wechat"))(0,v.toast)(a,"戳我是没有用的");else if(a.hasClass("icon-share_news_default")){var t=!!v.cookie.get("DedeUserID");t?n():(0,v.login)()}}),$(window).off("scroll.prevent").on("scroll.prevent",function(i){$(".share-mask").length>0&&i.preventDefault()})}function n(){var i=[m?"":'<div class="share-mask"></div>','<div class="share-dynamic-dialog '+(m?"mobile":"web")+'">','<div class="sdd-head"><span>分享至动态</span><i class="sdd-close"></i></div>','<div class="sdd-body-wrap"><textarea class="sdd-input" placeholder="说点什么..."></textarea>',c()+"</div>",'<div class="sdd-action-bar">','<div class="sdd-submit">发布</div><div class="sdd-input-num">'+f+"</div></div>","</div>"].join("");$("body").append(i),setTimeout(function(){$(".share-mask").addClass("on"),$(".share-dynamic-dialog").addClass("active")},10),$("body").off("click.closeShareDynamic").on("click.closeShareDynamic",".sdd-close",function(){s()}),$("body").off("input.shareDynamic").on("input.shareDynamic",".sdd-input",function(i){var a=$(i.target),t=a.val().trim(),e=f-t.length,n=$(".sdd-input-num"),o=$(".sdd-submit");n.text(e),e<0?(n.addClass("warning"),o.addClass("disable")):(n.removeClass("warning"),o.removeClass("disable"))}),$("body").off("keydown.shareFillter").on("keydown.shareFillter",".sdd-input",function(i){0===(0,v.getCursortPosition)(i.target)&&-1!==[13,32].indexOf(i.keyCode)&&i.preventDefault()}),$("body").off("click.submitShare").on("click.submitShare",".sdd-submit",function(i){$(i.target).hasClass("disable")||o($(".share-dynamic-dialog .sdd-input").val().trim())})}function o(i){$.ajax({type:"POST",url:"//api.vc.bilibili.com/dynamic_repost/v1/dynamic_repost/share",data:{uid:window.original.author.mid,type:64,rid:window.original.cvid,share_uid:v.cookie.get("DedeUserID"),content:i,csrf_token:v.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(i){0===i.code?i.data&&0===i.data.result?s(r):(0,v.centerToast)(i.data.errmsg):(0,v.centerToast)(i.message)})}function r(){var i=['<div class="share-success-mask"></div>','<div class="share-success-dialog '+(m?"mobile":"web")+'">','<div class="suc-img"></div>','<div class="info">分享成功</div>','<div class="hint">请在客户端中查看~</div>','<div class="btn-close">确定</div>',"</div>"].join("");$("body").append(i),setTimeout(function(){$(".share-success-mask").addClass("on"),$(".share-success-dialog").addClass("active")},10),$("body").off("click.closeShareSuccess").on("click.closeShareSuccess",".share-success-dialog .btn-close",function(){$(".share-success-mask").remove(),$(".share-success-dialog").remove()})}function c(){return['<div class="sdd-card">','<div class="name">@'+window.original.author.name+":</div>",'<div class="sdd-card-content">',l(),'<div class="title">'+(0,v.filterChar)(document.title)+"</div>",'<div class="summary">'+window.original.summary+"</div>","</div>","</div>"].join("")}function l(){var i=window.original.imageUrl&&window.original.imageUrl.length,a="";if(i<=0)return"";if(1===i)a='<div class="pic single-mode" style="background-image:url('+window.original.imageUrl[0]+')"></div>';else if(i>1){for(var t=0;t<i;++t)a+='<div class="pic multiply-mode" style="background-image:url('+(0,v.formatImg)(window.original.imageUrl[t],230,230,1,1)+')"></div>';a='<div class="clearfix">'+a+"</div>"}return a}function s(i){$(".share-mask").removeClass("on"),$(".share-dynamic-dialog").one("transitionend",function(){$(".share-mask").remove(),$(".share-dynamic-dialog").remove(),"function"==typeof i&&i()}).removeClass("active")}function d(){var i={url:window.location,title:$("title").text(),pic:window.original.banner_url||"//static.hdslb.com/mobile/img/app_logo.png",pics:window.original.banner_url||"//static.hdslb.com/mobile/img/app_logo.png",site:"",summary:($("meta[name=description]").attr("content")||"").substr(0,140),searchPic:!0},a=function(i){var a=[];for(var t in i)a.push(t+"="+encodeURIComponent(i[t]||""));return a}(i),t=a.join("&");return[{label:"动态",class:"icon-share_news_default",href:"javascript:void(0)",target:!1,mobile:!0},{label:"新浪微博",class:"icon-share_weibo",href:"http://service.weibo.com/share/share.php?appkey=2841902482&language=zh_cn&"+t,target:!0,mobile:!0},{label:"",class:"icon-share_wechat",href:"javascript:void(0)",target:!1},{label:"QQ空间",class:"icon-share_qzone_default",href:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?style=203&width=98&height=22&otype=share&"+t,target:!0,mobile:!0},{label:"QQ好友",class:"icon-share_qq_default",href:"http://connect.qq.com/widget/shareqq/index.html?"+t,target:!0,mobile:!0}]}Object.defineProperty(a,"__esModule",{value:!0});var v=t(0),u=t(22),p=function(i){return i&&i.__esModule?i:{default:i}}(u),f=233,m=v.version.mobile;a.default=e},102:function(i,a,t){"use strict";function e(){d||(v?window.location.href="https://passport.bilibili.com/login":$.getScript("https://static-s.bilibili.com/account/bili_quick_login.js",function(){window.biliQuickLogin(function(){window.location.reload()})}))}function n(i){$.ajax({url:"//api.bilibili.com/x/web-interface/card",type:"get",data:{mid:window.original.author.mid,jsonp:"jsonp",article:!0},xhrFields:{withCredentials:!0},success:function(a){var t=a.data&&a.data.card;$(i).find(".up-face-image").attr({src:""+((0,s.formatImg)((0,s.trimHttp)(t.face),64*devicePixelRatio,64*devicePixelRatio)||"//static.hdslb.com/images/member/noface.gif")}),t.pendant&&t.pendant.pid&&$(i).find(".up-pendant-image").attr({src:""+(0,s.formatImg)((0,s.trimHttp)(t.pendant.image),84*devicePixelRatio,84*devicePixelRatio)}),$(i).find(".up-pendant-image"),$(i).find(".level").addClass("l"+(t.level_info&&t.level_info.current_level)),2==t.vip.vipType&&1==t.vip.vipStatus&&$(i).find(".up-name").addClass("b-vip-red"),0!=t.nameplate.nid&&t.nameplate.name&&($(i).find(".nameplate-holder").css("display","inline-block"),$(i).find(".nameplate").css({"background-image":"url("+(0,s.formatImg)((0,s.trimHttp)(t.nameplate&&t.nameplate.image_small),26*devicePixelRatio,23*devicePixelRatio)+")"}).hover(function(i){var a=$(i.currentTarget).offset();p.css({top:a.top-5,left:a.left-375}),$("body").append(p)},function(){p.remove()}),p=$('<div class="nameplate-card">\n          <i class="nameplate-arrow"></i><img class="nameplate-pic" src="'+(0,s.formatImg)((0,s.trimHttp)(t.nameplate&&t.nameplate.image_small),62*devicePixelRatio,62*devicePixelRatio)+'"><div class="nameplate-text"><p class="n-name">'+t.nameplate.name+'</p><p class="n-title">'+t.nameplate.condition+'</p><p class="n-type"><span>'+t.nameplate.level+'</span><a href="https://account.bilibili.com/site/nameplate.html" target="_blank">查看全部&gt;&gt;</a></p></div></div>')),$(i).find(".fans-num").text((0,s.formatNum)(t.fans)),u.fans=t.fans,a.data.following&&$(i).find(".follow-btn").addClass("followed").text("已关注")}}),$(i).find(".follow-btn").click(function(a){var t=$(i).find(".fans-num");if(d){var n=$(a.currentTarget),o=1;n.hasClass("followed")?(o=2,(0,s.modalBox)({sure:function(){r(n,o,function(){t.text((0,s.formatNum)(u.fans))})},message:"您确认要取消关注吗(ﾟДﾟ≡ﾟдﾟ)!?"})):r(n,o,function(){t.text((0,s.formatNum)(u.fans))})}else e()});var a=$(i).find(".fixed-box")[0];$.ajax({type:"GET",url:"//api.bilibili.com/x/article/more",data:{aid:window.original.cvid,platform:"web",jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(a){if(0==a.code){if(a.data.read_count?$(".up-info-block .view-num").text((0,s.formatNum)(a.data.read_count)):($(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()),a.data.articles&&a.data.articles.length>0){var t=$(i).find(".up-article-list-block .article-list");t.html(c(a.data.articles));for(var e=[],n=0;n<a.data.articles.length;n++)e.push(a.data.articles[n].id);window.reportMsgObj.recommendShow={cvId:window.original.cvid,recommendIds:e.join(",")},o({flag:0,platSrc:0,event:JSON.stringify({aid:+window.original.cvid,recommendIds:e})}),$(".article-item").on("click",function(){var i=$(this).attr("data-cvid");o({flag:1,platSrc:0,positionSrc:+$(this).index()+1,event:JSON.stringify({from:+window.original.cvid,to:+i})})}),$(i).find(".up-article-list-block").removeClass("hidden")}}else $(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()}).fail(function(){$(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()}),$(document).on("scroll.upInfoBlock",function(){if(window.pageYOffset>42?i.addClass("scroll"):i.removeClass("scroll"),$(".footer-wrp").length){var t=window.pageYOffset+window.innerHeight-$(".footer-wrp")[0].offsetTop;if(t>=0){t>=window.innerHeight-(72+a.offsetHeight)?i.addClass("to-bottom"):i.removeClass("to-bottom")}else i.removeClass("to-bottom")}});var t=Date.now();$(window).on("beforeunload",function(){var i=new FormData;i.append("from",(0,s.getUrlParameter)("from")),i.append("curLength",window.pageYOffset||0),i.append("totalLength",document.querySelector(".head-container").offsetHeight+document.querySelector(".article-holder").offsetHeight),i.append("duration",Date.now()-t),i.append("csrf",s.cookie.get("bili_jct")),i.append("aid",+window.original.cvid),navigator.sendBeacon&&navigator.sendBeacon("//api.bilibili.com/x/article/upload/viewDepth",i)})}function o(i){$.ajax({type:"POST",url:"//api.bilibili.com/x/article/upload/clickRate",data:i,xhrFields:{withCredentials:!0}})}function r(i,a,t){$.ajax({type:"POST",url:"//api.bilibili.com/x/relation/modify",data:{fid:window.original.author.mid,act:a,re_src:115,csrf:s.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(e){0==e.code?1==a?(i.addClass("followed").text("已关注"),(0,s.toast)(i,"关注成功"),u.fans++,t()):(i.removeClass("followed").text("关注"),(0,s.toast)(i,"取消关注成功"),u.fans--,t()):(0,s.toast)(i,e.message)})}function c(i){i.length>5&&(i=i.slice(0,5));var a=[];for(var t in i){var e=i[t];a.push(l(e))}return i.length>=5&&a.push('<a class="more-article" href="//www.bilibili.com/read/home" target="_blank">查看更多</a>'),a.join("")}function l(i){return['<li class="article-item" data-cvid='+i.id+">",'<a href="//www.bilibili.com/read/cv'+i.id+'?from=articleDetail" target="_blank">','<div class="article-title"><div class="label" title="'+(0,s.filterChar)(i.title)+'">'+(0,s.filterChar)(i.title)+'</div><div class="info">'+(0,s.human_date)(i.ctime)+" 阅读"+(0,s.formatNum)(i.stats.view)+"</div></div>",'<div class="article-cover-holder" style="background-image:url('+(0,s.formatImg)((0,s.trimHttp)(i.image_urls[0]),68)+')"></div>',"</a>","</li>"].join("")}Object.defineProperty(a,"__esModule",{value:!0});var s=t(0),d=!!s.cookie.get("DedeUserID"),v=/AppleWebKit.*Mobile.*/i.test(navigator.userAgent),u={},p=void 0;a.default=n},103:function(i,a,t){"use strict";function e(i){if(Array.isArray(i)){for(var a=0,t=Array(i.length);a<i.length;a++)t[a]=i[a];return t}return Array.from(i)}function n(i){$.ajax({url:"//api.bilibili.com/x/article/actinfo",data:{mobi_app:"pc"}}).done(function(a){if(0==a.code&&a.data){var t=a.data;if(t.banners.length){var e=o(t.banners);i.append(e),$(document).on("click",".draft-holder .draft-item",function(){window.reportMsgObj&&(window.reportMsgObj.activity_banner_click={id:$(this).attr("data-id"),src_id:$(this).attr("data-src-id"),event:"click"},window.reportObserver&&window.reportObserver.forceCommit())});var n={threshold:.5},r=function(i){i.forEach(function(i){if(i.isIntersecting){var a=$(i.target).attr("data-id");-1===l.indexOf(a)&&(l.push(a),window.reportMsgObj.activity_banner_click={id:a,src_id:$(i.target).attr("data-src-id"),event:"show"},window.reportObserver&&window.reportObserver.forceCommit())}})},c=new IntersectionObserver(r,n);$(".draft-holder .draft-item").each(function(){c.observe($(this).get(0))})}i.show()}})}function o(i){var a=[],t=[];u=i.length;for(var n in i){var o=i[n],l=['<a class="draft-item"  target="_blank" data-id='+o.id+" data-src-id="+(o.index+2443)+" href="+(0,c.trimHttp)(o.url)+' style="left:'+n+"00%;background-image:url("+(0,c.trimHttp)((0,c.formatImg)(o.image))+')" title="'+o.title+'">',"</a>"].join("");t.push('<span class="btn" index="',n,'"></span>'),a.push(l)}a=["<div class='draft-holder'>","<div class='list-holder' style='left:0' >"].concat(e(a),["</div>","<div class='panel'>"],e(u>1?t:""),["</div>","</div>"]);var v=$(a.join(""));return d=v.find(".list-holder"),s=v.find(".panel .btn"),r(0),s.hover(function(i){r($(i.target).addClass("on").attr("index"))}),v}function r(i){s.removeClass("on"),s.eq(i).addClass("on"),d.css("left","-"+i+"00%"),clearTimeout(v),v=setTimeout(function(){r((i+1)%u)},3e3)}Object.defineProperty(a,"__esModule",{value:!0});var c=t(0),l=[],s=void 0,d=void 0,v=void 0,u=void 0;a.default=n},104:function(i,a,t){"use strict";function e(i){$.ajax({url:"//api.bilibili.com/x/article/listinfo",data:{id:window.original.cvid,jsonp:"jsonp"}}).done(function(a){var t=a.data;d=t.list&&t.list.id,v=t.list&&t.list.name,i.append('<div class="article-list-name">来自文集：'+(0,p.filterChar)(t.list.name)+"</div>");var e=$('<div class="article-list-plane"></div>'),n=[],o=['<div class="rightside-article-list-btn" >','<span class="icon-list"></span>','<span class="label">查看目录</span>','<span class="title" title="'+(0,p.filterChar)(t.list.name)+'">来自文集：'+(0,p.filterChar)(t.list.name)+"</span>","</div>"].join("");$(".up-info-holder .follow-btn-holder").after(o),t.last?n.push('<a href="//www.bilibili.com/read/cv'+(t.last&&t.last.id)+'" target="_self"><div class="button"><div class="label btn1">< 上一篇</div><div class="title" title="'+(0,p.filterChar)(t.last&&t.last.title)+'">'+((0,p.filterChar)(t.last&&t.last.title)||"已经是第一篇了")+"</div></div></a>"):n.push('<div class="button btn1 off"><div class="label">< 上一篇</div><div class="title">'+(t.last&&t.last.title||"已经是开头了~")+"</div></div>"),n.push('<div class="button" id="article-list-btn"><div class="label">查看目录</div><div class="title">'+(t.now+1)+"/"+t.total+"</div></div>"),t.next?n.push('<a href="//www.bilibili.com/read/cv'+(t.next&&t.next.id)+'" target="_self"><div class="button btn2"><div class="label">下一篇 ></div><div class="title" title="'+(0,p.filterChar)(t.next&&t.next.title)+'">'+((0,p.filterChar)(t.next&&t.next.title)||"已经是最后一篇了")+"</div></div></a>"):n.push('<div class="button btn2 off"><div class="label">下一篇 ></div><div class="title">'+(t.next&&t.next.title||"到底啦～看看其他的吧")+"</div></div>"),e.append(n.join("")),i.append(e)})}function n(){$("#article-list-index").length?($("#article-list-index").addClass("show"),(0,u.setTimeout)(function(){$("#article-list-index").addClass("on")},1)):($("body").append(['<div id="article-list-index" class="show">','<div class="title-holder"><span class="title">目录</span><span class="icon-close"></span></div>','<div class="article-list-title">来自文集 《'+(0,p.filterChar)(v)+"》</div>","</div>"].join("")),o().done(function(i){var a=r(i);$("#article-list-index").append(a);var t=(0,u.setInterval)(function(){if($("#article-list-index .index-holder").length){(0,u.clearInterval)(t);var i=$("#article-list-index .index-holder")[0].getBoundingClientRect().top;f=innerHeight-i,$("#article-list-index .index-holder").css("height",f);var a=$("#article-list-index .index-holder .article-item.on")[0].getBoundingClientRect().top;$("#article-list-index .index-holder").scrollTop(a-window.innerHeight/2)}},20)}),(0,u.setTimeout)(function(){$("#article-list-index").addClass("on")},1)),$(document).one("click",function(){c()})}function o(){return $.ajax({url:"//api.bilibili.com/x/article/list/articles",data:{id:d,jsonp:"jsonp"}})}function r(i){if(0==i.code){var a=i.data,t=[];for(var e in a.articles){var n=a.articles[e];t.push('<a class="article-item '+(n.id==window.original.cvid?"on":"")+'" href="//www.bilibili.com/read/cv'+n.id+'" target="_self"><span class="point" ></span><span class="title">'+(0,p.filterChar)(n.title)+"</span></a>")}return"<div class='index-holder'>"+t.join("")+"</div>"}return"<div class='index-holder error'>"+i.message+' 请<a class="reload-btn" href="javascript:void(0)">重试</></div>'}function c(){$("#article-list-index").removeClass("on").one("transitionend",function(i){$(i.currentTarget).removeClass("show")}),$(document).off("scroll.articleList")}function l(){s(),$(document).on("scroll.articleList",function(){s()})}function s(){if(window.scrollY>42?$("#article-list-index").addClass("top"):$("#article-list-index.top").length&&$("#article-list-index").removeClass("top"),$("#article-list-index .index-holder").length){var i=$("#article-list-index .index-holder")[0].getBoundingClientRect().top;innerHeight-i!=f&&$("#article-list-index .index-holder").css("height",innerHeight-i)}}Object.defineProperty(a,"__esModule",{value:!0});var d,v,u=t(10),p=t(0);$(document).on("click","#article-list-btn,.up-info-holder .rightside-article-list-btn",function(i){n(),l(),i.stopPropagation()}),$(document).on("click","#article-list-index .title-holder .icon-close",function(){c()}),$(document).on("click","#article-list-index .index-holder .reload-btn",function(){o().done(function(i){$("#article-list-index .index-holder").remove(),$("#article-list-index").append(r(i))})}),$(document).on("click","#article-list-index",function(i){i.stopPropagation()}),$(document).on("click",".article-list-plane .button.btn1",function(){window.reportMsgObj.last_article_btn=!0}),$(document).on("click",".article-list-plane .button.btn2",function(){window.reportMsgObj.next_article_btn=!0}),$(document).on("click","#article-list-btn",function(){window.reportMsgObj.open_article_index=!0}),$(document).on("click",".up-info-holder .rightside-article-list-btn",function(){window.reportMsgObj.open_right_article_index=!0}),$(document).on("click","#article-list-index .article-item",function(){window.reportMsgObj.open_article_in_article_index=!0});var f=0;a.default=e},105:function(i,a,t){"use strict";function e(i,a){$.ajax({type:"POST",url:"//api.bilibili.com/x/article/creative/upload/image",data:{file:i,csrf:s.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0==i.code&&i.data?a(i.data.url):(0,s.centerToast)(i.message||"上传图片失败")})}function n(i){2===i?p.html('请补充原文链接和相关截图。如果这篇文章侵犯了你的相关权益，请访问[<a href="https://www.bilibili.com/blackboard/copyright.html" target="_blank">侵权访问</a>]，按照提示反馈给我们'):4===i?p.html("请补充问题类型和出现位置等详细信息"):p.html("\t请补充违规内容出现位置等详细信息")}function o(){d="",v="",u=[]}function r(i){if(""===d)return void(0,s.centerToast)("请选择投诉理由");$.ajax({type:"POST",url:"//api.bilibili.com/x/article/complaints",data:{aid:window.original.cvid,cid:d,reason:v,images:u.join()},xhrFields:{withCredentials:!0}}).done(function(a){0===a.code?((0,s.centerToast)("投诉成功"),i()):(0,s.centerToast)(a.message)})}function c(){var i=m.map(function(i){return'<div class="option" data-tid="'+i.value+'"><span class="checkbox"></span><span>'+i.label+"</span></div>"}).join(""),a=$(['<div class="bomb-mask"></div>','<div class="bili-dialog-bomb">','<div class="appeal-box">','<div class="header"><span class="title">投诉或建议</span><span class="close"></span></div>','<div class="wrap">','<div class="container">','<div class="question">你觉得这篇专栏文章(cv'+window.original.cvid+")有什么问题？</div>",'<div class="options">'+i+"</div>",'<div class="textarea">','<div class="memo">请补充问题类型和出现位置等详细信息</div>','<div class="textarea-wrap">','<textarea maxlength="400" placeholder="请输入文字描述，可加快反馈速度哦～"></textarea>','<span class="limit">0/400</span>',"</div>","</div>",'<div class="upload-area">','<div class="add-img">','<div class="img-wrap"></div>','<input type="file" accept="image/jpeg, image/png" class="img-file"></input>',"</div>","</div>",'<div class="img-text"><span class="memo">支持JPG/PNG格式，最多5张，每张不超过5M</span></div>',"</div>","</div>",'<div class="submit">','<div class="confirm">提交</div>','<div class="cancel">取消</div>',"</div>","</div>","</div>"].join("")),t=a.find(".limit");p=a.find(".textarea").find(".memo"),f=a.find(".add-img"),a.find(".cancel").click(function(){a.remove(),o()}),a.find(".close").click(function(){a.remove(),o()}),a.find(".confirm").click(function(){r(function(){return a.remove()})}),a.off("click.selectOption",".options .option").on("click.selectOption",".options .option",function(i){var a=$(i.currentTarget),t=a.data("tid"),e=null;d!==t&&(n(t),d=t,e=a.find(".checkbox"),e.closest(".options").find(".checkbox").removeClass("checked"),e.addClass("checked"))}),a.off("input.textarea",".textarea textarea").on("input.textarea",".textarea textarea",function(i){v=i.currentTarget.value,t.text(v.length+"/400")}),a.off("change.upload",".upload-area input").on("change.upload",".upload-area input",function(i){var a=i.currentTarget,t=a.files[0],n=new FileReader;if(t){if(a.value="",t.size>5242880)return void(0,s.centerToast)("每张图片最大5M");n.addEventListener("load",function(){e(n.result,function(i){f.before(['<span class="img">','<img src="'+i+'" class="upload-img" />','<span class="close" data-url="'+i+'">x</span>',"</span>"].join("")),u.push(i),5==u.length&&f.css("display","none")})},!1),n.readAsDataURL(t)}}),a.off("click.deleteUp",".img .close").on("click.deleteUp",".img .close",function(i){var a=$(i.currentTarget);u=u.filter(function(i){return i!==a.data("url")}),a.closest(".img").remove(),f.css("display","block")}),a.appendTo("body")}function l(i){switch(i){case"0":c()}}Object.defineProperty(a,"__esModule",{value:!0});var s=t(0),d="",v="",u=[],p=null,f=null,m=[{label:"广告营销内容",value:5},{label:"有害、危害行为内容",value:3},{label:"抄袭、版权问题",value:2},{label:"青少年不良信息",value:6},{label:"色情、暴力、反动内容",value:1},{label:"其他问题 或建议",value:4}];a.default=l},13:function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(i){var a=i.find("figure pre"),t=!1;if(a.length>0){if(a.each(function(i,a){var n=$(a).attr("codecontent")||"";n?$(a).removeAttr("codecontent").find("code").eq(0).html((0,e.filterCharByCode)(n)):t=!0}),t)return;(0,e.loadScript)("//s1.hdslb.com/bfs/static/article-text/static/ueditor/plugins/prism/prism.js")}};var e=t(0)},15:function(i,a){},19:function(i,a,t){"use strict";function e(i){$(i).on("copy",function(i){var a=window.getSelection().toString();i.originalEvent.clipboardData.setData("text/plain",a+"\n作者："+(window.original&&window.original.author&&window.original.author.name||$(".author-name").text())+"\n"+window.location.href+"\n出处： bilibili"),i.preventDefault(),i.stopPropagation()})}Object.defineProperty(a,"__esModule",{value:!0}),a.default=e},2:function(i,a){},25:function(i,a,t){"use strict";function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var n=function(){function i(i,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(a,t,e){return t&&i(a.prototype,t),e&&i(a,e),a}}(),o=t(0),r=function(){function i(){e(this,i)}return n(i,[{key:"contructor",value:function(){}},{key:"bindWX",value:function(i,a,t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=Date.parse(new Date)/1e3,r=(0,o.GetRandomString)(32),c={share:{title:a+"_哔哩哔哩",desc:t,link:"https://www.bilibili.com/read/cv"+e,imgUrl:i}};$.ajax({url:"//app.bilibili.com/x/display/wechat/sign",type:"get",data:{url:window.location.href,timestamp:n,nonce:r,jsonp:"jsonp"},dataType:"jsonp",success:function(i){i&&0===i.code&&$.getScript("//res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){var a=window.wx;a&&(a.config({beta:!0,debug:!1,appId:"wx108457cda8a1b9f9",nonceStr:r,timestamp:n,signature:i.data,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),a.ready(function(){a.onMenuShareTimeline(c.share),a.onMenuShareAppMessage(c.share),a.onMenuShareQQ(c.share),a.onMenuShareWeibo(c.share),a.onMenuShareQZone(c.share)}))})},error:function(){}})}}]),i}();i.exports=new r},27:function(i,a){},28:function(i,a,t){"use strict";function e(i){n.cookie.get("DedeUserID")&&$.ajax({type:"GET",url:"//api.bilibili.com/x/article/is_author",data:{jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(a){if(0==a.code&&a.data.is_author){var t=i.find(".link");i.find(".ac-link").attr("href","http://member.bilibili.com/v/#/text-edit"),t.find(".title").text("专栏投稿"),t.find(".info").text("前去写文章")}})}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0);a.default=e},4:function(i,a,t){"use strict";function e(i){if(!window.biliapp)return!1;if(window.biliapp.articlePlayerCardOperation){var a={avId:i,opt:1};window.biliapp.articlePlayerCardOperation(JSON.stringify(a))}}function n(i){if(!window.biliapp)return!1;if(window.biliapp.articlePlayerCardOperation){var a={avId:i,opt:2};window.biliapp.articlePlayerCardOperation(JSON.stringify(a))}}function o(i,a){if(!window.biliapp)return!1;if(window.biliapp.jumpArticleToCategory){var t={categoryId:i,tagId:a};window.biliapp.jumpArticleToCategory(JSON.stringify(t))}}Object.defineProperty(a,"__esModule",{value:!0}),a.viewLater=e,a.miniPlayer=n,a.jumpToCategory=o},5:function(i,a,t){"use strict";function e(i){if(Array.isArray(i)){for(var a=0,t=Array(i.length);a<i.length;a++)t[a]=i[a];return t}return Array.from(i)}function n(){var i={rootMargin:"-"+ni+"px 0px 0px -"+ri+"px",threshold:.5},a=function(i){i.forEach(function(i){$(i.target).find("video").get(0).pause()})},t=new IntersectionObserver(a,i),e={rootMargin:"-"+ni+"px 0px 0px -"+ri+"px",threshold:0},n=function(i){i.forEach(function(i){i.isIntersecting&&-1===V.indexOf(i.target.className)&&(V.push(i.target.className),U.biliBridge.callNative({method:"article.trackEventWithParams",data:{0:54,2:window.original.cvid,logId:"001186"}}))})},o=new IntersectionObserver(n,e);$(".player-id-container").each(function(){t.observe($(this).get(0)),o.observe($(this).get(0))})}function o(i){return i=i.toString(),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=i.replace(/"/g,"&#34;"),i=i.replace(/'/g,"&#39;"),i=i.replace(/\n/g,"")}function r(i){var a=$(['<div class="center-toast">','<div class="info">'+i+"</div>","</div>"].join(""));$("html").append(a),(0,G.setTimeout)(function(){a.one("transitionend",function(){a.remove()}).css("opacity","0")},3e3)}function c(i,a){var t=W[a];return $.ajax({url:t,data:{ids:i.join(","),jsonp:"jsonp"},type:"get"})}function l(i,a,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t&&(Y=!0),Y&&(J||R.version.ios&&X>8110||R.version.android&&X>5315e3)&&(0,G.setTimeout)(function(){U.biliBridge.callNative({method:"global.getContainerInfo",callback:function(i){i&&1===i.networkState&&(K=!1)}})},500);var o=$(i),r=$(".video-card",o),l=$(".article-card",o),d=$(".music-card",o),p=$(".fanju-card",o),m=$(".shop-card",o),N=$(".caricature-card",o),j=$(".live-card",o),M=$(".goods-card",o),A=[];d.each(function(i,a){A.push($(a).attr("aid"))}),p.each(function(i,a){A.push($(a).attr("aid"))}),m.each(function(i,a){var t=$(a).attr("aid"),e=t.split("shopId=");A.push(e[0]),e[1]&&(q[e[0]]=e[1])}),r.each(function(i,a){var t=$(a).attr("aid");/[0-9]+,[0-9]+/.test(t)?A=[].concat(e(A),[t.split(",").map(function(i){return"av"+i})]):t&&A.push("av"+t)}),l.each(function(i,a){var t=$(a).attr("aid");A.push("cv"+t)}),N.each(function(i,a){var t=$(a).attr("aid");/[0-9]+,[0-9]+/.test(t)?A=[].concat(e(A),[t.split(",").map(function(i){return"mc"+i})]):A.push("mc"+t)}),j.each(function(i,a){var t=$(a).attr("aid");A.push("lv"+t)}),M.length>0&&window.original&&window.original.cvid&&A.unshift("co"+window.original.cvid),T(i),I(i),A=A.sort(function(i,a){return i>a});var H=[];for(var F in A)A[F]!=H[length]&&H.push(A[F]);A=H,A.length>20?function(){for(var i={total:Math.ceil(A.length/20),ready:0,data:{}},t=0;t<i.total;t++)c(A.slice(20*t,20*(t+1)),"cards").done(function(t){i.ready++,i.data=L({},i.data,t.data),i.ready==i.total&&(d.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").append(w(i.data[o],a)),n.remove()}),p.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(b(i.data[o]),a)}),m.each(function(t,e){var n=$(e),o=n.attr("aid").split("shopId=")[0];n.wrap('<div class="card-container"></div>'),/pw/.test(o)?n.parents(".card-container").html(k(i.data[o]),a):/sp/.test(o)&&n.parents(".card-container").html(_(i.data[o]),a)}),r.each(function(t,e){var o=$(e),r=o.attr("aid");/[0-9]+,[0-9]+/.test(r)?(o.wrap('<div class="card-container slim"></div>'),o.parents(".card-container").html(v(i.data,r.split(","),a,n))):(o.wrap('<div class="card-container"></div>'),i.data&&i.data["av"+r]?i.data["av"+r].attribute>>9&1?o.parents(".card-container").html(g(i.data["av"+r],r,!0,n)):o.parents(".card-container").html(g(i.data["av"+r],r,void 0,n)):o.parents(".card-container").html(h("视频加载失败")))}),l.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),i.data&&i.data["cv"+o]?n.parents(".card-container").html(u(i.data["cv"+o],o,a)):n.parents(".card-container").html(f(a))}),N.each(function(t,e){var n=$(e),o=n.attr("aid");if(/[0-9]+,[0-9]+/.test(o)){var r=o.split(",");n.wrap('<div class="card-container slim"></div>'),n.parents(".card-container").html(y([i.data["mc"+r[0]],i.data["mc"+r[1]]],a))}else n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(y([i.data["mc"+o]],a))}),j.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(x([i.data["lv"+o]],a))}),M.each(function(t,e){if(/read\/pcpreview/gi.test(window.location)||/read\/preview/gi.test(window.location))D($(e));else{var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(C(s(i.data["co"+window.original.cvid],o),a))}}),S(a),E(a),P(a),O())})}():A.length?c(A,"cards").done(function(i){d.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").append(w(i.data[o],a)),n.remove()}),p.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(b(i.data[o]),a)}),m.each(function(t,e){var n=$(e),o=n.attr("aid").split("shopId=")[0];n.wrap('<div class="card-container"></div>'),/pw/.test(o)?n.parents(".card-container").html(k(i.data[o]),a):/sp/.test(o)&&n.parents(".card-container").html(_(i.data[o]),a)}),r.each(function(t,e){var o=$(e),r=o.attr("aid");/[0-9]+,[0-9]+/.test(r)?(o.wrap('<div class="card-container slim"></div>'),o.parents(".card-container").html(v(i.data,r.split(","),a,n))):(o.wrap('<div class="card-container"></div>'),i.data&&i.data["av"+r]?i.data["av"+r].attribute>>9&1?o.parents(".card-container").html(g(i.data["av"+r],r,!0,n)):o.parents(".card-container").html(g(i.data["av"+r],r,void 0,n)):o.parents(".card-container").html(h("视频加载失败")))}),l.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),i.data&&i.data["cv"+o]?n.parents(".card-container").html(u(i.data["cv"+o],o,a)):n.parents(".card-container").html(f(a))}),N.each(function(t,e){var n=$(e),o=n.attr("aid");if(/[0-9]+,[0-9]+/.test(o)){var r=o.split(",");n.wrap('<div class="card-container slim"></div>'),n.parents(".card-container").html(y([i.data["mc"+r[0]],i.data["mc"+r[1]]],a))}else n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(y([i.data["mc"+o]],a))}),j.each(function(t,e){var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(x([i.data["lv"+o]],a))}),M.each(function(t,e){if(/read\/pcpreview/gi.test(window.location)||/read\/preview/gi.test(window.location))D($(e),a);else{var n=$(e),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(C(s(i.data["co"+window.original.cvid],o),a))}}),S(a),E(a),P(a),O()}).fail(function(){d.each(function(i,t){var e=$(t);e.wrap('<div class="card-container"></div>'),e.parents(".card-container").append(w({},a)),e.remove()}),p.each(function(i,t){var e=$(t);e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(b({}),a)}),m.each(function(i,t){var e=$(t),n=e.attr("aid").split("shopId=")[0];e.wrap('<div class="card-container"></div>'),/pw/.test(n)?e.parents(".card-container").html(k({}),a):/sp/.test(n)&&e.parents(".card-container").html(_({}),a)}),r.each(function(i,t){var e=$(t),n=e.attr("aid");/[0-9]+,[0-9]+/.test(n)?(e.wrap('<div class="card-container slim"></div>'),e.parents(".card-container").html(v({},n.split(","),a))):(e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(h("视频加载失败")))}),l.each(function(i,t){var e=$(t);e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(f(a))}),N.each(function(i,t){var e=$(t);/[0-9]+,[0-9]+/.test(e.attr("aid"))?(e.wrap('<div class="card-container slim"></div>'),e.parents(".card-container").html(y([{},{}],a))):(e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(y([{}],a)))}),j.each(function(i,t){var e=$(t);e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(x([{}],a))}),M.each(function(i,t){if(/read\/pcpreview/gi.test(window.location)||/read\/preview/gi.test(window.location))D($(t),a);else{var e=$(t);e.wrap('<div class="card-container"></div>'),e.parents(".card-container").html(C([],a))}}),S(a),E(a),P(a)}):M.length&&M.each(function(i,t){(/read\/pcpreview/gi.test(window.location)||/read\/preview/gi.test(window.location))&&D($(t),a)})}function s(i,a){var t=null;return i&&(t=i.filter(function(i){return i.itemIdStr===a})),t}function d(i){return R.version.mobile&&window.screen.availWidth<360&&"string"==typeof i&&i.length>6?i.substring(0,6)+"...":i}function v(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.version.mobile,e=arguments[3],n="";for(var o in a){var r=i["av"+a[o]];if(r)if(t){var c=j();n+=['<a  class="slim-mobile-video-card" card-type="video" aid="'+r.aid+'" href="//www.bilibili.com/video/'+(window.bvButton&&e?r.bvid:"av"+r.aid)+'/" target="_blank">','  <div class="video-cover">','    <div class="cover-default"></div>','    <div class="video-cover-img" style="background-image:url('+(0,R.formatImg)((0,R.trimHttp)(r.pic),300,188)+')"></div>','    <div class="icon icon-video"></div>','    <div class="info-mask">','    <div class="col">','      <span class="icon icon-play"></span>','      <span class="data">'+(0,R.formatNum)(r.stat.view)+"</span>",'      <span class="icon icon-danmaku"></span>','      <span class="data">'+(0,R.formatNum)(r.stat.danmaku)+"</span>",'      <span class="duration">'+(0,R.formatDuration)(r.duration)+"</span>","    </div>","  </div>","  </div>",'  <div class="video-info">','    <div class="title">'+r.title+"</div>",'    <div class="col">','      <label class="card-label"></label>','      <label class="up-label"></label>','      <label class="up-name">'+r.owner.name+"</label>","    </div>",c,"  </div>","</a>"].join("")}else n+=['<a  class="slim-video-card" card-type="video" aid="'+r.aid+'" href="//www.bilibili.com/video/'+(window.bvButton&&e?r.bvid:"av"+r.aid)+'/" target="_blank">','  <div class="video-cover">','    <div class="cover-default"></div>','    <div class="video-cover-img" style="background-image:url('+(0,R.formatImg)((0,R.trimHttp)(r.pic),300,188)+')"></div>','    <div class="icon icon-video"></div>','    <span class="duration">'+(0,R.formatDuration)(r.duration)+"</span>","  </div>",'  <div class="video-info">','    <div class="title">'+r.title+"</div>",'    <div class="col">','      <span class="icon icon-play"></span>','      <span class="data">'+(r.stat.view>0?(0,R.formatNum)(r.stat.view):"--")+"</span>",'      <span class="icon icon-danmaku"></span>','      <span class="data">'+(r.stat.danmaku?(0,R.formatNum)(r.stat.danmaku):"--")+"</span>","    </div>",'    <div class="col-2">','      <label class="card-label"></label>','      <label class="up-label"></label>','      <label class="up-name">'+r.owner.name+"</label>","    </div>","  </div>","</a>"].join("");else n+=t?['<div class="slim-mobile-video-card slim-mobile-video-card-error">',"</div>"].join(""):['<div class="slim-video-card slim-video-card-error">',"</div>"].join("")}return n}function u(i,a,t){return R.version.mobile||t?['<div class="card article-card-root mobile" card-type="article" cid='+a+">",'<a href="//www.bilibili.com/read/cv'+a+'?from=articleDetail" target="_blank" class="article-card-wrap slim-border">','<p class="title">'+o(i.title)+"</p>",p(i.image_urls),'<p class="card-status">','<span class="card-label"></span>','<span class="author status-item"><i class="status-icon icon-up"></i><span>'+d(i.author.name)+"</span></span>",'<span class="play-item status-item"><i class="status-icon icon-play"></i><span class="num">',(0,R.formatNum)(i&&i.stats.view),"</span></span>",'<span class="like-item status-item"><i class="status-icon icon-like"></i><span class="num">',(0,R.formatNum)(i&&i.stats.like),"</span></span>","</p>","</a>","</div>"].join(""):['<div class="card article-card-root" card-type="article" cid='+a+">",'<a href="//www.bilibili.com/read/cv'+a+'?from=articleDetail" target="_blank" class="article-card-wrap slim-border">','<div class="article-cover cover-default"></div>','<div class="article-cover" style="background-image:url('+(0,R.formatImg)((0,R.trimHttp)(i.image_urls[0]),234,176,1,1)+')"></div>','<div class="article-info-container">','<p class="title">'+o(i.title)+"</p>",'<p class="desc">'+o(i.summary)+"</p>",'<p class="card-status">','<span class="card-label"></span>','<span class="author status-item"><i class="status-icon icon-up"></i><span>'+i.author.name+"</span></span>",'<span class="status-item"><i class="status-icon icon-play"></i><span>',(0,R.formatNum)(i&&i.stats.view),"</span></span>",'<span class="status-item"><i class="status-icon icon-like"></i><span>',(0,R.formatNum)(i&&i.stats.like),"</span></span>",'<span class="status-item"><i class="status-icon icon-comment"></i><span>',(0,R.formatNum)(i&&i.stats.reply),"</span></span>","</p>","</div>","</a>","</div>"].join("")}function p(i){var a=i&&i.length,t="";if(a<=0)return"";if(1===a)t='<div class="single-mode cover-default"><div class="pic single-mode" style="background-image:url('+i[0]+')"></div><div class="article-night-mask"></div></div>';else if(a>1){for(var e=0;e<a;++e)t+='<div class="pic multiply-mode" style="background-image:url('+(0,R.formatImg)(i[e],230,230,1,1)+')"></div>';t='<div class="default-col"><div class="article-night-mask"></div><div class="clearfix">'+t+'</div><div class="cover-default multiply-mode"></div><div class="cover-default multiply-mode"></div><div class="cover-default multiply-mode"></div></div>'}return t}function f(i){return R.version.mobile||i?['<div class="card article-error-card mobile slim-border">','<p class="p-1"></p>','<p class="p-2"><i class="icon icon-info"></i><span>文章加载失败</span></p>','<p class="p-3"></p>',"</div>"].join(""):['<div class="card article-error-card slim-border">','<p class="p1"></p>','<p class="p2"></p>','<p class="p3"></p>','<p class="cover"><i class="icon icon-info"></i><span>文章加载失败</span></p>',"</div>"].join("")}function m(){ai.forEach(function(i){$("."+i+" video").get(0).pause()})}function g(i,a,t,e){var n=i.bvid;if(Y&&(J||R.version.ios&&X>8110||R.version.android&&X>5315e3)&&!t){var c=ti;return ti++,(0,G.setTimeout)(function(){(new BiliH5Player).create({ele:".aid-"+c+"-"+a,aid:a,page:1}),ai.push("aid-"+c+"-"+a),(0,G.setTimeout)(function(){$(".aid-"+c+"-"+a+" video").on("play",function(){if(K||(K=!0,r("正在使用流量播放哦~")),-1===ii.indexOf("aid-"+c+"-"+a)&&(ii.push("aid-"+c+"-"+a),U.biliBridge.callNative({method:"article.trackEventWithParams",data:{0:55,2:window.original.cvid,logId:"001186"}})),ai.forEach(function(i){i!=="aid-"+c+"-"+a&&$("."+i+" video").get(0).pause()}),!$(".holder-"+c+"-"+a+" .custom-replay-layer").hasClass("added")){var i=$(".holder-"+c+"-"+a+" .load-layer img").attr("src");$(".holder-"+c+"-"+a+" .custom-replay-layer").css("background-image","url("+i+")"),$(".holder-"+c+"-"+a+" .custom-replay-layer").addClass("added")}}),$(".aid-"+c+"-"+a+" video").on("ended",function(){$(".holder-"+c+"-"+a+" .custom-replay-layer").removeClass("hidden")});var t='\n          <div class="article-video-info">\n            '+(0,R.formatNum)(i&&i.stat.view)+"观看&nbsp;&nbsp;"+(0,R.formatNum)(i&&i.stat.danmaku)+'弹幕\n            <div class="duration">'+(0,R.formatDuration)(i.duration)+"</div>\n          </div>\n        ";$(".aid-"+c+"-"+a+" .load-layer").append(t),$(".holder-"+c+"-"+a+" .custom-replay-icon").on("click",function(i){i.preventDefault(),$(".aid-"+c+"-"+a+" video").get(0).play(),$(".holder-"+c+"-"+a+" .custom-replay-layer").addClass("hidden")})},0)},0),'<div class="h5-video-card-holder">\n      <div class="h5-video-holder holder-'+c+"-"+a+'">\n        <div class="custom-replay-layer hidden">\n          <div class="custom-replay-float-layer">\n            <div class="custom-replay-icon">\n              重新播放\n            </div>\n          </div>\n        </div>\n        <div class="aid-'+c+"-"+a+' player-id-container">\n        </div>\n      </div>\n\n      <div class="h5-video-title">\n      <a href="//www.bilibili.com/video/'+(window.bvButton&&e?n:"av"+a)+'" target="_blank">\n          <p>'+o(i.title)+'</p>\n          </a>\n          <p class="h5-video-title-link" mid="'+ +i.owner.mid+'" user-name="'+i.owner.name+'"><img class="h5-video-author" src="'+(0,R.formatImg)((0,R.trimHttp)(i.owner.face),18*Q,18*Q)+'"/>'+i.owner.name+"</p>\n        </div>\n    </div>"}var l=j();return['<div class="card" card-type="video" aid='+a+">",'<a href="//www.bilibili.com/video/'+(window.bvButton&&e?n:"av"+a)+'" target="_blank" class="video-holder slim-border">','<div class="video-cover"><div class="cover-default"></div><div class="video-cover-layer" style="background-image:url('+(0,R.formatImg)((0,R.trimHttp)(i.pic),300,188)+')"><i class="icon icon-video"></i></div>','<span class="duration">',(0,R.formatDuration)(i.duration),"</span>","</div>",'<div class="video-info-container">','<p class="title">',o(i.title),"</p>",'<p class="card-status">','<span class="play-num"><i class="status-icon icon-play"></i><span>',(0,R.formatNum)(i&&i.stat.view),"</span></span>",'<span><i class="status-icon icon-danmaku"></i><span>',(0,R.formatNum)(i&&i.stat.danmaku),"</span></span>","</p>",'<div class="partition">','<label class="card-label"></label>','<label class="up-label"></label>','<label class="up-name">',i.owner.name,"</label>","</div>",l,"</div>","</a>","</div>"].join("")}function h(i){return['<div class="card error-card slim-border"><div class="video-holder">','<div class="video-cover"><p class="error-hint"><i class="icon icon-info"></i><span>'+i+"</span></p></div>",'<div class="video-info-container">','<p class="title"></p><p class="card-status"></p><p class="partition"></p>',"</div>","</div></div>"].join("")}function w(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile;if(i){var t="//m.bilibili.com/audio/au"+i.song_id;(J||R.version.ios&&X>6620||R.version.android&&X>524e4)&&(t="bilibili://music/playoutside?songId="+i.song_id+"&name="+encodeURIComponent(i.title)+"&uperName="+encodeURIComponent(i.up_name)+"&cover_url="+encodeURIComponent(i.cover_url)+"&upperId="+encodeURIComponent(i.up_name)+"&from=article");var e=$(['<div class="music-card" card-type="music" sid="'+i.song_id+'">',"  <a href="+o(t)+">",'    <div class="cover">','      <div class="cover-default"></div>','      <div class="cover-image" style="background-image: url('+(0,R.formatImg)((0,R.trimHttp)(i.cover_url))+')"> </div>','      <div class="cover-image-inner" style="background-image: url('+(0,R.formatImg)((0,R.trimHttp)(i.cover_url))+')"></div>','      <div class="icon-listen"></div>',"    </div>","  </a>",'  <a href="//m.bilibili.com/audio/au'+i.song_id+'" target="_blank" >','    <div class="container">','      <div class="title">'+o(i.title)+"</div>",'      <div class="col">','        <span class="icon-earphone"></span>','        <span class="view-num">'+(0,R.formatNum)(i.play_num)+"</span>",'        <span class="icon-comment"></span>','        <span class="comment-num">'+(0,R.formatNum)(i.reply_num)+"</span>","      </div>",'      <div class="col-2">','        <label class="up-label"></label>','        <label class="up-name">'+o(i.up_name)+"</label>","      </div>",'      <div class="col-3">','        <label class="card-label"></label>',"      </div>","    </div>","  </a>","</div>"].join(""));return li.push(e),e}return $(['<div class="music-card-error '+(a?"mobile":"")+'">',"</div>"].join(""))}function b(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile;return i?['<div class="bangumi-card" bid="'+i.season_id+'">','  <a href="//bangumi.bilibili.com/anime/'+i.season_id+'" target="_blank">','    <div class="cover-default"></div>','    <div class="cover" style="background-image:url('+(0,R.formatImg)((0,R.trimHttp)(i.cover))+')">','      <div class="icon-video"></div>',"    </div>",'    <div class="container '+(a?"mobile":"")+'">',function(i){if(i.rating){var a=!(!i.rating||!i.rating.count),t=i.rating&&i.rating.count?(0,R.formatNum)(i.rating.count)+"人":"评分人数不足",e=/\./.test(i.rating&&i.rating.score)?i.rating&&i.rating.score:(i.rating&&i.rating.score)+".0";return['      <div class="title narrow">'+i.title+"</div>",'      <div class="score '+(a?"show":"none")+'">','        <div class="score-block">',"          "+(a?'<label class="score-num ">'+e+"</label>":"")+" ","          <span>"+(a?"分":"暂无评分")+"</span>","        </div>",'        <div class="disc">'+(i.playable?""+t:"未开播")+"</div>","      </div>"].join("")}return'<div class="title narrow">'+i.title+"</div>"}(i),'      <div class="col">','        <span class="icon-play"></span>','        <span class="data">'+(0,R.formatNum)(i.play_count)+"</span>",'        <span class="icon-heart"></span>','        <span class="data">'+(0,R.formatNum)(i.follow_count)+"</span>","      </div>",'      <div class="col-2">','        <div class="card-label">'+i.season_type_name+"</div>","      </div>","    </div>","  </a>","</div>"].join(""):['<div class="bangumi-card-error '+(a?"mobile":"")+'">',"</div>"].join("")}function _(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile;if(i){var t="";t=0==i.type?i.price/100:i.price/100||"价格待定";var e=q["sp"+i.itemsId]?"&shopId="+q["sp"+i.itemsId]:"";return['<div class="shop-card" card-type="shop" sid="'+i.itemsId+'">','  <a target="_blank" href="//mall.bilibili.com/detail.html?loadingShow=1'+e+"&noTitleBar=1&from=articleDetail&cvid="+(window.original&&window.original.cvid||0)+"&jumpLinkType="+i.jumpLinkType+"#itemsId="+i.itemsId+'">','      <div class="cover-default"></div>','    <div class="cover" style="background-image:url( '+(0,R.trimHttp)((0,R.formatImg)(i.img[0]))+' )" >',"    </div>",'    <div class="container">','      <div class="title">'+i.name+"</div>",'      <div class="disc">'+i.brief+"</div>",'      <div class="bottom-col">','        <label class="card-label"></label>','        <span class="symbol">￥</span>','        <label class="price">'+t+"</label>","      </div>","    </div>","  </a>","</div>"].join("")}return['<div class="huiyuango-card-error '+(a?"mobile":"")+'">',"</div>"].join("")}function k(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile;return i?['<div class="ticket-card">','  <a target="_blank" href="'+(0,R.trimHttp)(i.url)+'" tid="'+i.id+'">','    <div class="cover-default"></div>','    <div class="cover" style="background-image:url('+i.performance_image+')">',"    </div>",'    <div class="container">','      <div class="title">'+i.name+"</div>",'      <div class="time-col">','        <label class="icon-time"></label>','        <span class="time-range">'+A(i.start_time)+"-"+A(i.start_time)+"</span>","      </div>",'      <div class="location-col">','        <label class="icon-location"></label>','        <span class="location-string">'+i.city_name+" "+i.district_name+i.venue_name+"</span>","      </div>",'      <div class="bottom-col">','        <label class="card-label"></label>','        <span class="symbol">￥</span>','        <label class="price">'+i.price_low+"</label>","      </div>","    </div>","  </a>","</div>"].join(""):['<div class="huiyuango-card-error '+(a?"mobile":"")+'">',"</div>"].join("")}function y(i){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile,t="",e=0;e<i.length;e++){var n=i[e];t+=n?['<div class="comic-card '+(2===i.length?"column":"")+" "+(a?"mobile":"")+'" card-type="comic" cid="'+n.id+'">','  <a href="//manga.bilibili.com/m/detail/mc'+n.id+'?from=article_card" target="_blank" >','    <div class="cover">','      <div class="cover-default"></div>','      <div class="cover-image" style="background-image: url('+(0,R.formatImg)((0,R.trimHttp)(n.vertical_cover))+')"> </div>',"    </div>","  </a>",'  <a href="//manga.bilibili.com/m/detail/mc'+n.id+'?from=article_card" target="_blank" >','    <div class="container">','      <div class="title">'+o(n.title)+"</div>",'      <div class="col-1">','        <label class="desc">'+o(n.evaluate)+"</label>","      </div>",'      <div class="col-2">','        <label class="card-label"></label>','        <label class="writer-name">'+o(n.author.join(" "))+"</label>","      </div>","    </div>","  </a>","</div>"].join(""):['<div class="comic-card-error '+(2===i.length?"column":"")+" "+(a?"mobile":"")+'">',"</div>"].join("")}return $(t)}function x(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile,t="",e=i[0];return e?(t=['<div class="live-card '+(a?"mobile":"")+'" card-type="live" cid="'+e.room_id+'">','  <a href="//live.bilibili.com/'+e.room_id+'?jumpfrom=27012" target="_blank" >','    <div class="cover">','      <div class="cover-default"></div>','      <div class="cover-image" style="background-image: url('+(0,R.formatImg)((0,R.trimHttp)(e.cover))+')"> </div>','       <div class="cover-background"> </div>',"       "+(e.pendent_ru_pic?'<div class="living-recommend" style="background-image: url('+(0,R.formatImg)((0,R.trimHttp)(e.pendent_ru_pic))+')">'+(e.pendent_ru?o(e.pendent_ru):"")+"</div>":""),'       <div class="living-online"><div class="online-icon"></div>'+(1===e.live_status&&e.online>0?(0,R.formatNum)(e.online):"--")+"</div>",'       <div class="living-area">'+(e.area_v2_name?o(e.area_v2_name):"")+"</div>","    </div>",'    <div class="container">','      <div class="title">'+(e.title?o(e.title):"")+"</div>",'      <div class="col-1">','        <label class="up-avatar" '+(e.face?"style=background-image:url('"+(0,R.formatImg)((0,R.trimHttp)(e.face),30*Q,30*Q,1,1)+"')":"")+"></label>","         "+(1===e.role||2===e.role||7===e.role?'<div class="icon icon-auth-p"></div>':""),"         "+(3===e.role||4===e.role||5===e.role||6===e.role?'<div class="icon icon-auth-c"></div>':""),"      </div>",'      <div class="col-2">','        <label class="up-name">'+(e.uname?o(e.uname):"")+"</label>","        "+(1===e.live_status?'<label class="living-label"><div class="living-icon"></div><span>'+Z.LIVING+"</span></label>":'<label class="noliving-label">'+Z.NOLIVING+"</label>"),"      </div>","    </div>","  </a>","</div>"].join(""),e.face&&(0,G.setTimeout)(function(){var i=new Image;i.onerror=function(){$(".live-card[cid = "+e.room_id+"]").find(".up-avatar").removeAttr("style")},i.src=(0,R.formatImg)((0,R.trimHttp)(e.face),30*Q,30*Q,1,1)},0)):t=['<div class="live-card-error '+(a?"mobile":"")+'">',"</div>"].join(""),$(t)}function C(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.version.mobile,t="",e=i?i[0]:"";return e?(t=['<div class="goods-card '+(a?"mobile":"")+'" card-type="goods" aid="'+e.itemIdStr+'" scheme="'+e.schemaUrl+'" url="'+e.jumpLink+'" platform="'+e.shopGoodType+'">',a?"":'  <a target="_blank" href="'+e.jumpLink+'">','<div class="goods-container">','      <div class="cover-default"></div>','    <div class="cover" style="background-image:url( '+(0,R.trimHttp)((0,R.formatImg)(e.img))+' )" >',"    </div>",'    <div class="container">','      <div class="title">'+e.name+"</div>",'      <div class="disc">'+(e.brief||"")+"</div>",'      <div class="bottom-col">',e.iconUrl?"        <img src="+e.iconUrl+' class="card-label"></img>':"",'        <span class="symbol">'+(e.price?"￥":"")+"</span>",'        <label class="price">'+(e.price||"")+"</label>",function(i){return i.adMark?['<div class="good-ad">'+i.adMark.substring(0,8),"</div>"].join(""):""}(e),"      </div>","    </div>","</div>",a?"":"  </a>","</div>"].join(""),e.img&&(0,G.setTimeout)(function(){var i=new Image;i.onload=function(){$(".goods-card[aid = "+e.itemIdStr+"] .cover-default").css("background-image","none")},i.src=(0,R.trimHttp)((0,R.formatImg)(e.img))})):t=['<div class="goods-card-error '+(a?"mobile":"")+'">',"</div>"].join(""),$(t)}function I(i){var a=window.reportMsgObj||{},t=window.original;window.reportMsgObj&&($(i).on("click",".card[card-type=video],.slim-video-card,.slim-mobile-video-card",function(i){a.video_card_click={cardID:$(i.currentTarget).attr("aid"),cvid:t.cvid}}),$(i).on("click",".card[card-type=article]",function(i){a.article_card_click={cardID:$(i.currentTarget).attr("cid"),cvid:t.cvid}}),$(i).on("click",".music-card",function(i){a.music_card_click={cardID:$(i.currentTarget).attr("aid"),cvid:t.cvid}}),$(i).on("click",".bangumi-card",function(i){a.bangumi_card_click={cardID:$(i.currentTarget).attr("bid"),cvid:t.cvid}}),$(i).on("click",".shop-card",function(i){a.shop_card_click={cardID:$(i.currentTarget).attr("sid"),cvid:t.cvid}}),$(i).on("click",".ticket-card",function(i){a.ticket_card_click={cardID:$(i.currentTarget).attr("tid"),cvid:t.cvid}}),$(i).on("click",".card[card-type=video] .actions, .slim-mobile-video-card .actions",function(i){a.video_card_actions={cvid:t.cvid,aid:$(i.currentTarget).attr("aid")},$(i.currentTarget).addClass("viewlater")}),$(i).on("click",".comic-card",function(i){a.manga_card_click={mangaCard_type:$(i.currentTarget).parent().hasClass("slim")?2:1,mc_id:$(i.currentTarget).attr("cid")}}),$(i).on("click",".live-card",function(i){a.live_card_click={cvid:t.cvid,aid:$(i.currentTarget).attr("aid")}}),$(i).on("click",".goods-card",function(i){var e=$(i.currentTarget);a.tao_card_click={cvid:t.cvid,aid:e.attr("aid")},U.biliBridge.callNative({method:"ability.reportEventV3",data:{type:2,event:"read.column-detail.c-items.0.click",params:JSON.stringify({itemsid:e.attr("aid"),readid:window.original.cvid,time:Math.ceil(Date.now()/1e3)})}}),R.version.ios&&X>9040||R.version.android&&X>5515e3?U.biliBridge.callNative({method:"article.openAPPScheme",data:{scheme:e.attr("scheme"),url:e.attr("url"),itemid:e.attr("aid"),platform:e.attr("platform"),readid:window.original.cvid}}):window.open(e.attr("url"))}))}function O(){$(window).on("scroll",N)}function N(){var i=$(".card[card-type=video], .slim-mobile-video-card, .slim-video-card, .article-card-root, .bangumi-card, .music-card, .shop-card, .comic-card, .ticket-card, .h5-video-card-holder, .live-card, .goods-card").not(".slim-mobile-video-card-error, .slim-video-card-error").not("[data-show]"),a=$(window).height();i.length?i.each(function(i){var t=this.getBoundingClientRect(),e=this.offsetHeight;if(t.top>0&&t.top+e<a){var n="";switch($(this).attr("data-show",!0),!0){case"video"===$(this).attr("card-type"):case $(this).hasClass("slim-mobile-video-card"):case $(this).hasClass("slim-video-card"):case $(this).hasClass("h5-video-card-holder"):n="video_card_show";break;case $(this).hasClass("article-card-root"):n="article_card_show";break;case $(this).hasClass("bangumi-card"):n="bangumi_card_show";break;case $(this).hasClass("music-card"):n="music_card_show";break;case $(this).hasClass("shop-card"):n="shop_card_show";break;case $(this).hasClass("ticket-card"):n="ticket_card_show";break;case $(this).hasClass("comic-card"):n="manga_card_show";break;case $(this).hasClass("live-card"):n="live_card_show";break;case $(this).hasClass("goods-card"):n="tao_card_show",i={value:window.original.cvid,aid:$(this).attr("aid")},U.biliBridge.callNative({method:"ability.reportEventV3",data:{type:3,event:"read.column-detail.c-items.0.show",params:JSON.stringify({itemsid:$(this).attr("aid"),readid:window.original.cvid,time:Math.ceil(Date.now()/1e3)})}});break;default:n="undefined"}(window.reportMsgObj||{})[n]=i,window.reportObserver&&window.reportObserver.forceCommit()}}):$(window).off("scroll",N)}function T(i){$(i).on("click",".card[card-type=video] .actions, .slim-mobile-video-card .actions",function(i){i.stopPropagation(),i.preventDefault(),M(i.target)})}function j(){var i=!1;return(J||R.version.ios&&X>=6520||R.version.android&&X>=522e4)&&(i=!0),window.original&&(window.original.showVideoViewLater||window.original.showSmallWindow)&&i?'<div class="actions"></div>':'<div class="actions hide"></div>'}function M(i){var a=$(i).parents('[card-type="video"]').attr("aid"),t="添加至稍后再看";$(i).hasClass("viewlater")&&(t="已添加稍后再看");var e=['<div class="col-1">','<span class="icon-view-later"></span>',"<label>"+t+"</label>","</div>"].join(""),n=$(['<div class="actions-holder">','<div class="actions-box">',window.original.showVideoViewLater?e:"","</div>",'<div class="arrow"></div>',"</div>"].join("")),o=$(['<div class="actions-mask"></div>'].join("")),r=$(i).offset();r.width=$(i).width(),r.height=$(i).height(),$("body").append(n),$(".page-container").append(o),n.height();var c={top:r.top-n.height()-8,left:r.left-n.width()+r.width/2};c.left<0?(c.left=r.left-n.width()/2+r.width/2,n.addClass("middle")):n.addClass("right"),c.top<window.scrollY+110?(c.top=r.top+r.height+8,n.addClass("above")):n.addClass("under"),n.css(c),(0,G.setTimeout)(function(){o.addClass("on"),n.find(".actions-box").addClass("on")},1),n.click(function(i){i.stopPropagation()}),n.find(".col-1").click(function(){(0,H.viewLater)(a),o.click()}),n.find(".col-2").click(function(){(0,H.miniPlayer)(a),o.click()}),o.on("click",function(){n.remove(),o.removeClass("on").one("transitionend",function(){o.remove()}).one("webkitTransitionEnd",function(){o.remove()})}),$(window).one("scroll",function(){n.remove(),o.removeClass("on").one("transitionend",function(){o.remove()}).one("webkitTransitionEnd",function(){o.remove()})})}function A(i){var a=new Date;return a.setTime(1e3*i),a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()}function S(){if(arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.version.mobile){var i=$(".comic-card-error").not(".column").width(),a=149*i/343;$(".comic-card-error").not(".column").css({height:a+"px"}),i=$(".comic-card-error.column").width(),a=317*i/166,$(".comic-card-error.column").css({height:a+"px"})}}function E(){if(arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.version.mobile){var i=$(".live-card-error").width(),a=94*i/343;$(".live-card-error.mobile, .goods-card-error.mobile").css({height:a+"px"})}}function P(){if(arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.version.mobile){var i=$(".live-card-error").width(),a=76*i/343;$(".goods-card-error.mobile").css({height:a+"px"})}}function D(i,a){var t=/_[A-Za-z]*/i;a||R.version.mobile?i.attr({src:i.attr("data-src").replace(i.attr("data-src").match(t),"_mobile")}):i.attr({src:i.attr("data-src").replace(i.attr("data-src").match(t),"_web")})}Object.defineProperty(a,"__esModule",{value:!0}),a.startObserve=a.pauseAll=void 0;var L=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},R=t(0),U=t(3),H=t(4);t(6);var G=t(10),F=t(1),B=function(i){return i&&i.__esModule?i:{default:i}}(F),W={video:"//api.bilibili.com/x/article/archives",article:"//api.bilibili.com/x/article/metas",cards:"//api.bilibili.com/x/article/cards"},z="zh_CN";(0,R.getLang)()&&(z=(0,R.getLang)());var Z=B.default[z],Y=!1,q={},Q=window.devicePixelRatio||1,K=!0,X=!!/BiliApp\/([0-9]+)/.test(window.navigator.userAgent)&&window.navigator.userAgent.match(/BiliApp\/([0-9]+)/)[1],J=/mobi_app\/(?:(?:android_i)|(?:ios_i))/i.test(window.navigator.userAgent),V=[],ii=[],ai=[],ti=0,ei=window.location.search,ni=0;if(ei.length>0){var oi=ei.match(/headHeight=([0-9]+)/);oi&&+oi[1]&&(ni=+oi[1])}var ri=0;if(ei.length>0){var ci=ei.match(/bottomHeight=([0-9]+)/);ci&&+ci[1]&&(ri=+ci[1])}var li=[];a.default=l,a.pauseAll=m,a.startObserve=n},6:function(i,a){},7:function(i,a,t){"use strict";function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function n(i){return/i\d\.hdslb\.com/.test(i)}function o(i){return s.webp?i+"@1s.webp":i+"@1s.gif"}function r(){$(".cut-off-1,.cut-off-2,.cut-off-3,.cut-off-4,.cut-off-5,.cut-off-6, .latex").each(function(){var i=$(this);i.attr("src",i.attr("data-src")).addClass("loaded").removeAttr("data-src")})}Object.defineProperty(a,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},l=function(){function i(i,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(a,t,e){return t&&i(a.prototype,t),e&&i(a,e),a}}(),s=t(0),d="//static.hdslb.com/images/transparent.gif",v=function(){function i(a,t){e(this,i),this.options=t||{},this.imgArr=[],this.container=a,this.init()}return l(i,[{key:"updateOpt",value:function(i,a){"object"===(void 0===i?"undefined":c(i))?this.options=i:"string"==typeof i&&(this.options[i]=a)}},{key:"getImgs",value:function(){return this.imgArr}},{key:"lazyLoad",value:function(){var i=void 0,a=void 0,t=void 0;for(a=0,t=this.imgArr.length;a<t;++a)i=this.imgArr[a],(!i.isGif||i.isGif&&this.canAutoPlayGif(i))&&this.checkAndLoadImg(i)}},{key:"loadImg",value:function(i){var a=this,t=new Image;i.loading=!0,t.onload=function(){i.el.attr("src",i.src),i.loaded=!0,i.loading=!1,i.isGif?i.el.parent().find(".gif-cover").remove():i.el.parent().find(".img-loading").remove(),i.el.addClass("loaded")},t.onerror=function(){i.loaded=!0,i.loading=!1,i.isGif?i.el.parent().find(".gif-cover").remove():i.el.parent().find(".img-loading").remove(),a.addReload(i)},t.src=i.src}},{key:"canAutoPlayGif",value:function(i){return this.options.isWifi||i.width<65||i.height<65}},{key:"addLoading",value:function(i){var a=void 0;a=$('<div class="img-loading"></div>'),a.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*i.width/2+"px"}),i.el.parent().append(a)}},{key:"addReload",value:function(i){var a=$('<div class="img-reload"></div>');a.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*+i.width/2+"px"}),i.el.parent().append(a)}},{key:"checkAndLoadImg",value:function(i){var a=$(window).height();i.loading||i.loaded||!(0,s.checkInView)(i.el[0],1.5*a)||this.loadImg(i)}},{key:"addGifFlag",value:function(i){var a=$('<div class="gif-cover"><div class="black-tv"><div class="info">GIF</div></div></div>');a.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*+i.width/2+"px"}),i.el.parent().append(a)}},{key:"showGifLoading",value:function(i){i.el.parent().find(".info").html('<span class="dot dot-1"></span><span class="dot dot-2"></span><span class="dot dot-3"></span>')}},{key:"processImg",value:function(){var i=this.container.find("img[data-src]").not(".vote-display, .video-card, .article-card, .fanju-card, .music-card, .shop-card, .caricature-card, .live-card, .goods-card, .cut-off-1, .cut-off-2, .cut-off-3, .cut-off-4, .cut-off-5, .cut-off-6, .latex"),a=this;i.each(function(){var i,t,e=$(this),r=$(window).width(),c=r>=860?660:r-32,l=e.attr("width"),v=e.attr("height");l>c&&(v=Math.round(c/l*v),l=c);var u=e.attr("data-src");if(n(u)){i=(0,s.formatImg)((0,s.trimHttp)(u),l*s.DPR,v*s.DPR),t=/\.gif$/.test(i),e.css({width:l,height:v});var p={el:e,src:i,loaded:!1,loading:!1,width:l,height:v,isGif:t,originwidth:e.attr("width"),originheight:e.attr("height"),size:e.attr("data-size")||0};a.imgArr.push(p),e.attr("data-src",i).attr("data-index",a.imgArr.length-1),t?a.canAutoPlayGif(p)?e.attr("src",d):(e.attr("src",o(i)),a.addGifFlag(p)):(e.attr("src",d),l>=24&&v>=24&&a.options.hasLoading&&(p.hasLoading=!0,a.addLoading(p)))}else e.addClass("foreign-img")})}},{key:"init",value:function(){var i=this,a=(0,s.throttle)(i.lazyLoad,200,100,i);r(),this.processImg(this.container),this.lazyLoad(),$(window).off("scroll.img").on("scroll.img",function(){a()}),$("body").off("click.reloadImg").on("click.reloadImg",".img-reload",function(a){var t=$(a.target),e=t.parent().find("img[data-src]").attr("data-index"),n=i.imgArr[e];t.parent().find(".img-reload").remove(),n.isGif?(i.addGifFlag(n),i.showGifLoading(n)):n.hasLoading&&i.addLoading(n),i.loadImg(n)}),$("body").off("click.loadgif").on("click.loadgif",".gif-cover",function(a){var t=$(a.target),e=t.parents(".img-box").find("img[data-src]").attr("data-index"),n=i.imgArr[e];i.showGifLoading(n),i.loadImg(n)})}}]),i}();a.default=v},96:function(i,a,t){"use strict";function e(i){return i&&i.__esModule?i:{default:i}}function n(){var i=$(".title-container .create-time");i.text((0,G.countdown)(+i.attr("data-ts")))}function o(){if(/micromessenger/.test(navigator.userAgent.toLowerCase())){var i=$(window).width(),a=i>=ri?ri:i,t=(0,G.getDevicePixelRatio)(),e=(0,G.formatImg)(window.original.banner_url,Math.round(a*t),Math.round(a*t*.56));Y.default.bindWX(e||"http://static.hdslb.com/mobile/img/app_logo.png",$("head title").text(),"【UP主:"+window.original.author.name+"】,来自哔哩哔哩",window.original.cvid)}else $(".btn-share").css("display","inline-block")}function r(){var i=$(window).width(),a=i>=ri?ri:i,t=(0,G.getDevicePixelRatio)();$(".banner-img-holder").css("background-image","url("+(0,G.formatImg)(window.original.banner_url,Math.round(a*t),Math.round(a*t*.56))+")").show()}function c(){$.ajax({url:"//api.bilibili.com/x/article/viewinfo",data:{id:window.original&&window.original.cvid,mobi_app:li?"h5":"pc",from:vi,jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0===i.code&&(window.original.imageUrl=i.data.image_urls||[],ci=i.data,u(),d(),ci.in_list&&(0,ai.default)($(".article-list-holder-block")))})}function l(){$.ajax({url:"//data.bilibili.com/v/web/web_page_view",type:"GET",xhrFields:{withCredentials:!0},data:{url:window.location.href,title:document.title,ref:document.referrer}})}function s(){si||(li?window.location.href="https://passport.bilibili.com/login":$.getScript("https://static-s.bilibili.com/account/bili_quick_login.js",function(){window.biliQuickLogin(function(){window.location.reload()})}))}function d(){var i=$("<span>"+(0,G.formatNum)(ci.stats.view)+"阅读</span><span>"+(0,G.formatNum)(ci.stats.like)+"点赞</span><span>"+(0,G.formatNum)(ci.stats.reply)+"评论</span>");$(".head-container .title-container .info .article-data").html(i),ci.stats.reply?($(".right-side-bar .to-comment span").text((0,G.formatNum)(ci.stats.reply)),$(".comment-title-block .comment-results").text((0,G.formatNum)(ci.stats.reply))):$(".right-side-bar .to-comment span").hide()}function v(){ci.attention?$(".attention-btn").addClass("attentioned").text("已关注"):$(".attention-btn").removeClass("attentioned").text("关注")}function u(){null!==ci&&(m(),h(),_())}function p(i){s();var a=i?1:2;$.ajax({type:"POST",url:"//api.bilibili.com/x/relation/modify",data:{fid:window.original.author.mid,act:a,re_src:115,csrf:G.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(a){0===a.code?(ci.attention=i,v()):22001===a.code&&(0,G.toast)($(".attention-btn"),a.message)}).fail(function(){})}function f(){$(".attention-btn").on("click",function(){ci&&(ci.attention?(0,G.modalBox)({sure:function(){p(!ci.attention)},message:"确认取消关注该up主吗？"}):p(!ci.attention))}),$(document).on("scroll.rightSide",function(){window.pageYOffset>window.innerHeight?$(".right-side-bar").addClass("on"):$(".right-side-bar").removeClass("on")}),$(document).on("click.to-comment",".right-side-bar .to-comment",function(){$("html, body").animate({scrollTop:$(".comment-holder").offset().top-innerHeight/2},300)}),$(document).on("click.toTop",".right-side-bar.on .to-top",function(){$("html, body").animate({scrollTop:0},300)}),$(document).on("click.moreOpList",".article-action li",function(i){var a=$(i.currentTarget),t=a.attr("value");if(!si)return void s();(0,ei.default)(t)})}function m(){var i=$(".like-btn");i.find("span").text((0,G.formatNum)(ci.stats.like)||"点赞"),1!==ci.like?i.removeClass("on"):i.addClass("on")}function g(i){if(!si)return void s();var a=1!=ci.like?1:2;$.ajax({type:"POST",url:"//api.bilibili.com/x/article/like",data:{id:window.original.cvid,type:a,csrf:G.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(t){0===t.code?(1==a?(ci.like=1,ci.stats.like++,(0,G.toast)($(".like-btn"),"点赞成功")):((0,G.toast)($(".like-btn"),"取消点赞成功"),ci.like=2,ci.stats.like--),m(),d(),i&&i()):(0,G.toast)($(".like-btn"),t.message)}).fail(function(){})}function h(){var i=$(".coin-btn");i.find("span").text((0,G.formatNum)(ci.stats.coin)||"投币"),ci.coin>0&&i.addClass("on")}function w(){var i=$('<div class="wnd-mask"></div>'),a=$('<div class="coin-wrap "><div class="coin-content"><i class="close-btn"></i><p class="coin-title">给UP主投上<i>1</i>枚硬币</p><div class="coin-nav"><div class="coin-checkbox on"><p class="lable">1硬币</p><img class="" src="//static.hdslb.com/images/coin/22.gif"></div></div><a class="coin-sure b-btn" href="javascript:void(0)">确定</a><p class="coin-tips on">经验值+10（今日<span class=\'exp\'>0</span>/50）</p></div></div>');$("body").append(i,a),a.find(".close-btn").on("click.close",function(){a.removeClass("fade-in"),i.removeClass("fade-in"),a.one("transitionend",function(){a.remove(),i.remove()})}),di<0?$.ajax({url:"//www.bilibili.com/plus/account/exp.php",type:"get",dataType:"json"}).done(function(i){di=i.number,di<50?a.find(".exp").text(di):a.find(".coin-tips").text("今日投币+50经验成就 get√ 赞！")}):di<50?a.find(".exp").text(di):a.find(".coin-tips").text("今日投币+50经验成就 get√ 赞！"),setTimeout(function(){a.addClass("fade-in"),i.addClass("fade-in")},1),a.find(".coin-sure").click(function(){b(function(){a.find(".close-btn").trigger("click.close")})})}function b(i){$.ajax({url:"//api.bilibili.com/x/web-interface/coin/add",type:"post",data:{aid:window.original.cvid,multiply:1,upid:window.original.author.mid,avtype:2,csrf:G.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(a){0==a.code?(i(),ci.coin=1,ci.stats.coin++,h(),d(),(0,G.toast)($(".coin-sure"),"投币成功")):(0,G.toast)($(".coin-sure"),a.message)})}function _(){var i=$(".fav-btn");i.find("span").text((0,G.formatNum)(ci.stats.favorite)||"收藏"),ci.favorite?i.addClass("on"):i.removeClass("on")}function k(){if(si){var i=ci.favorite?"//api.bilibili.com/x/article/favorites/del":"//api.bilibili.com/x/article/favorites/add";$.ajax({type:"POST",url:i,data:{id:window.original.cvid,csrf:G.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0==i.code?(ci.favorite=!ci.favorite,ci.stats.favorite+=ci.favorite?1:-1,(0,G.toast)($(".fav-btn"),ci.favorite?"收藏成功":"取消收藏成功"),_()):(0,G.toast)($(".fav-btn"),i.message)})}else s()}function y(){var i=window.original&&window.original.media;if(i){for(var a=JSON.parse(i.replace(/&#34;/gi,'"')),t=a.season_id,e=a.title,n=a.type_name,o=a.area,r=a.cover?'<div class="bangumi-rating-cover" style="background-image: url('+(0,G.formatImg)((0,G.trimHttp)(a.cover))+')"></div>':'<div class="bangumi-rating-cover default"></div>',c="",l=a.score/2,s=0;s<5;s++)c+=s<l?'<span class="bangumi-star rated"></span>':'<span class="bangumi-star"></span>';var d='\n<div class="bangumi-rating-card">\n\t<a href="//www.bilibili.com/bangumi/play/ss'+t+'/" target="_blank">\n\t\t'+r+'\n\t\t<div class="bangumi-rating-right">\n\t\t\t<div class="bangumi-rating-title">\n\t\t\t\t'+e+'\n\t\t\t</div>\n\t\t\t<div class="bangumi-rating-subtitle">'+n+"&nbsp;&nbsp;|&nbsp;&nbsp;"+o+'</div>\n      <div class="bangumi-rating-score">\n        '+c+"\n      </div>\n\t\t</div>\n\t</a>\n</div>\n      ";$(".bangumi-rating-container").html(d)}}function x(i){var a=void 0;if(/reply[0-9]+/.test(window.location.hash)&&(a=window.location.hash.match(/reply([0-9]+)/)[1]),/comment/.test(window.location.hash)){var t=$(i).offset().top;$("html, body").animate({scrollTop:t-.5*$(window).height()},300)}window.onLoginInfoLoaded(function(t){window.bbComment&&new window.bbComment(i,window.original.cvid,12,t,a)})}function C(){ui="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,I()}function I(){O(),setTimeout(function(){I()},5e3)}function O(){ui&&document[ui]||$.ajax({type:"GET",url:"//api.bilibili.com/x/article/read/ping",data:{aid:+window.original.cvid||0,source:(0,G.getUrlParameter)("from")||"web"},xhrFields:{withCredentials:!0}})}function N(){+window.original.actId>0?$.ajax({url:"//api.bilibili.com/x/activity/subject/info",data:{sid:window.original.actId,aid:window.original.cvid}}).done(function(i){if(0===i.code)if(0===i.data.lid)(0,V.default)($(".draft-holder-block"));else{var a=$(".title-container .info");a.prepend("<a "+(i.data.act_url?"href="+i.data.act_url:"")+' class="activity-location" target="_blank"><span class="activity">活动作品</span></a>'),$(".title-container .activity").off("click.location").on("click.location",function(){window.reportMsgObj.title_event_click="",window.reportObserver&&window.reportObserver.forceCommit()});var t=$(".draft-holder-block"),e=["<div class='activity-banner'>","<div class='left'>","<div class='text-inside'>",'<a class="draft-item"  target="_blank" data-id='+i.data.id+" "+(i.data.act_url?"href="+(0,G.trimHttp)(i.data.act_url):"")+' title="'+i.data.name+'">',"<b>",i.data.name,"</b>","</a>","</div>","</div>",'<a class="draft-item"  target="_blank" data-id='+i.data.id+" "+(i.data.act_url?"href="+(0,G.trimHttp)(i.data.act_url):"")+' title="'+i.data.name+'">','<div class="right" '+(i.data.cover?"style=background-image:url("+(0,G.trimHttp)((0,G.formatImg)(i.data.cover))+")":"")+">","</div>","</a>","</div>"].join("");t.html(e).show(),$(document).on("click",".draft-holder-block .draft-item",function(){window.reportMsgObj&&(window.reportMsgObj.roof_event_click="",window.reportObserver&&window.reportObserver.forceCommit())})}}):(0,V.default)($(".draft-holder-block"))}function T(){if(window.original.dispute&&window.original.dispute.dispute){var i=$(".argue-flag"),a="";/^http(s)?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/gi.test(window.original.dispute.dispute_url)?(a='<div class="argue-attention"></div>\n                <div class="argue-text">'+window.original.dispute.dispute+'</div>\n                <div class="argue-location"></div>',i.append(a),i.wrap('<a href="'+window.original.dispute.dispute_url+'" target="_blank"></a>'),i.off("click.argue").on("click.argue",function(){window.reportMsgObj.controversial_click="",window.reportObserver&&window.reportObserver.forceCommit()})):(a='<div class="argue-attention"></div>\n            <div class="argue-text no-location">'+window.original.dispute.dispute+"</div>",i.append(a)),i.removeClass("hidden")}}function j(){$.ajax({url:"//api.bilibili.com/x/article/switch",data:{jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0===i.code?window.bvButton=i.data:window.__BILI_CONFIG__&&window.__BILI_CONFIG__.show_bv&&(window.bvButton=!0),M()}).fail(function(){window.__BILI_CONFIG__&&window.__BILI_CONFIG__.show_bv&&(window.bvButton=!0),M()})}function M(){var i=$(".article-holder");i.html((0,G.removeEmptyTagP)((0,G.replaceLink)(i.html(),window.bvButton))),y(),(0,G.filterContentEdit)(i),l(),(0,E.default)(i),(0,D.default)(i),(0,R.default)(i),(0,H.default)(i),n(),r(),c(),new B.default(i,{isWifi:!0}),o(),f(),(0,Q.default)($(".up-info-holder")),(0,X.default)($(".up-info-holder .more")),x($(".comment-holder")),C(),(0,z.default)($(".share-btn").find("span")),N(),T(),$(".tag-container .tag-item").each(function(i,a){var t=$(a).find(".tag-content").outerWidth();$(a).find(".tag-border-inner").css("width",t)}),$(document).on("click",".tag-container .tag-item",function(i){var a=$(i.currentTarget).find(".tag-content").text();window.open("//search.bilibili.com/article?keyword="+encodeURI(a.replace(/#/g,""))+"&from_source=article")}),$(".article-holder a").each(function(i,a){(0,G.checkAllowUrl)($(a).attr("href"))||($(a).css({"pointer-events":"none"}),$(a).attr("href","#"))})}function A(){j()}var S=t(19),E=e(S),P=t(5),D=e(P),L=t(97),R=e(L),U=t(13),H=e(U),G=t(0),F=t(7),B=e(F);t(27),t(98),t(99),t(100);var W=t(101),z=e(W),Z=t(25),Y=e(Z),q=t(102),Q=e(q),K=t(28),X=e(K),J=t(103),V=e(J),ii=t(104),ai=e(ii),ti=t(105),ei=e(ti),ni=function(){var i=window.navigator.userAgent.match(/BiliApp\/([0-9]+)/i);return i&&i[1]}();G.version.ios&&12070===ni||/iPad/i.test(navigator.userAgent)&&/biliapp/i.test(navigator.userAgent)?/cv[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(cv)/,"read/mobile/")):(0,G.checkUA)(),window.bvButton=!1;var oi=!1,ri=860,ci=null,li=/AppleWebKit.*Mobile.*/i.test(navigator.userAgent),si=!!G.cookie.get("DedeUserID"),di=-1;if(/from=([^&]+)/.test(location.search))var vi=location.search.match(/from=([^&]+)/)[1];var ui="hidden";G.bus.on("shareArticle",function(){oi||(ci.stats.share++,$.ajax({url:"//api.bilibili.com/x/article/addshare",type:"post",data:{id:window.original.cvid,csrf:G.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}),oi=!0)}),$(".article-action .like-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).on("click",function(){g()}),$(".article-action .coin-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).on("click",function(i){if(ci.coin)return void(0,G.toast)($(i.currentTarget),"你已经投过硬币了哦");si?window.original.author.mid==G.cookie.get("DedeUserID")?(0,G.toast)($(i.currentTarget),"up主不能给自己投币!"):w():s()}),$(".article-action .fav-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).click(function(){k()}),window.BiliApp&&window.BiliApp.ready(function(){window.BiliApp.setShareContent({type:"web",title:window.original.title,text:window.original.summary,url:window.location.href,image_url:window.original.banner_url})}),$(function(){A()})},97:function(i,a,t){"use strict";function e(i,a){$.ajax({url:"//api.vc.bilibili.com/vote_svr/v1/vote_svr/vote_info",type:"get",data:{vote_id:a},xhrFields:{withCredentials:!0}}).done(function(a){0==a.code?i.removeClass("failed").html(n(a.data)):i.html("").addClass("failed")}).fail(function(){i.html("").addClass("failed")})}function n(i){return'\n    <div class="card">\n      <div class="image"><div class="icon"></div></div>\n      <div class="text-area f-left">\n        <div class="text-content ff-yahei tc-black fs-14 ls-0 line-clamp-1">'+(0,c.filterChar)(i.info.title)+'</div>\n        <div class="text-desc ff-yahei tc-slate fs-12 ls-0 line-clamp-1">'+i.info.cnt+'人参与</div>\n        <div class="vote-btn-box"><div class="vote-btn">投票</div></div>\n      </div>\n    </div>\n  '}function o(i){i.on("click",".js-vote",function(){var i=$(this).data("id");(0,c.iframeBox)("//t.bilibili.com/vote/h5/index/#/result?vote_id="+i+"&isWeb=1&from=article&rid="+window.original.cvid+"&type=64")})}function r(i){var a=i.find(".vote-display");a.length&&(a.each(function(i,a){var t=$(a),n=t.data("voteId");t.closest(".img-box").wrap('<div class="vote-pc-container js-vote" data-id="'+n+'"></div>'),e(t.parents(".js-vote"),n)}),o(i))}Object.defineProperty(a,"__esModule",{value:!0}),t(15);var c=t(0);a.default=r},98:function(i,a){},99:function(i,a){}},[96]);